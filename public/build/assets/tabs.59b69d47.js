import{r as s,R as A}from"./app.8f41755a.js";import{C as w,S as K,y as C,a as q,s as N,$ as D,o as L,u as V,t as te}from"./open-closed.0d489d91.js";import{I as X,M as U,e as re,o as f,O as E,T as m,S as Q}from"./use-owner.dcb13aec.js";import{s as ne}from"./use-resolve-button-type.fe2d668c.js";import{h as Y,a as ae}from"./use-event-listener.cd17cf37.js";function se({onFocus:e}){let[t,r]=s.exports.useState(!0);return t?A.createElement(Y,{as:"button",type:"button",features:ae.Focusable,onFocus:o=>{o.preventDefault();let n,i=50;function l(){if(i--<=0){n&&cancelAnimationFrame(n);return}if(e()){r(!1),cancelAnimationFrame(n);return}n=requestAnimationFrame(l)}n=requestAnimationFrame(l)}}):null}var le=(e=>(e[e.SetSelectedIndex=0]="SetSelectedIndex",e[e.RegisterTab=1]="RegisterTab",e[e.UnregisterTab=2]="UnregisterTab",e[e.RegisterPanel=3]="RegisterPanel",e[e.UnregisterPanel=4]="UnregisterPanel",e))(le||{});let oe={[0](e,t){let r=e.tabs.filter(i=>{var l;return!((l=i.current)!=null&&l.hasAttribute("disabled"))});if(t.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(t.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let o=e.tabs.slice(0,t.index),n=[...e.tabs.slice(t.index),...o].find(i=>r.includes(i));return n?{...e,selectedIndex:e.tabs.indexOf(n)}:e},[1](e,t){var r;if(e.tabs.includes(t.tab))return e;let o=e.tabs[e.selectedIndex],n=Q([...e.tabs,t.tab],l=>l.current),i=(r=n.indexOf(o))!=null?r:e.selectedIndex;return i===-1&&(i=e.selectedIndex),{...e,tabs:n,selectedIndex:i}},[2](e,t){return{...e,tabs:e.tabs.filter(r=>r!==t.tab)}},[3](e,t){return e.panels.includes(t.panel)?e:{...e,panels:Q([...e.panels,t.panel],r=>r.current)}},[4](e,t){return{...e,panels:e.panels.filter(r=>r!==t.panel)}}},W=s.exports.createContext(null);W.displayName="TabsSSRContext";function z(e){let t=s.exports.useContext(W);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,z),r}return t}let j=s.exports.createContext(null);j.displayName="TabsDataContext";function R(e){let t=s.exports.useContext(j);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,R),r}return t}let B=s.exports.createContext(null);B.displayName="TabsActionsContext";function H(e){let t=s.exports.useContext(B);if(t===null){let r=new Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,H),r}return t}function ue(e,t){return V(t.type,oe,e,t)}let ie=s.exports.Fragment,ce=w(function(e,t){let{defaultIndex:r=0,vertical:o=!1,manual:n=!1,onChange:i,selectedIndex:l=null,...$}=e;const v=o?"vertical":"horizontal",P=n?"manual":"auto";let b=l!==null,I=C(t),[c,u]=s.exports.useReducer(ue,{selectedIndex:l!=null?l:r,tabs:[],panels:[]}),y=s.exports.useMemo(()=>({selectedIndex:c.selectedIndex}),[c.selectedIndex]),x=q(i||(()=>{})),p=q(c.tabs),T=s.exports.useMemo(()=>({orientation:v,activation:P,...c}),[v,P,c]),h=q(b?e.selectedIndex:c.selectedIndex),S=s.exports.useMemo(()=>({registerTab(d){return u({type:1,tab:d}),()=>u({type:2,tab:d})},registerPanel(d){return u({type:3,panel:d}),()=>u({type:4,panel:d})},change(d){h.current!==d&&x.current(d),b||u({type:0,index:d})}}),[u,b]);N(()=>{u({type:0,index:l!=null?l:r})},[l]);let k=s.exports.useRef({tabs:[],panels:[]}),G={ref:I};return A.createElement(W.Provider,{value:k},A.createElement(B.Provider,{value:S},A.createElement(j.Provider,{value:T},T.tabs.length<=0&&A.createElement(se,{onFocus:()=>{var d,F;for(let M of p.current)if(((d=M.current)==null?void 0:d.tabIndex)===0)return(F=M.current)==null||F.focus(),!0;return!1}}),D({ourProps:G,theirProps:$,slot:y,defaultTag:ie,name:"Tabs"}))))}),pe="div",de=w(function(e,t){let{orientation:r,selectedIndex:o}=R("Tab.List"),n=C(t);return D({ourProps:{ref:n,role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:o},defaultTag:pe,name:"Tabs.List"})}),be="button",xe=w(function(e,t){var r,o;let n=`headlessui-tabs-tab-${X()}`,{orientation:i,activation:l,selectedIndex:$,tabs:v,panels:P}=R("Tab"),b=H("Tab"),I=R("Tab"),c=z("Tab"),u=s.exports.useRef(null),y=C(u,t);N(()=>b.registerTab(u),[b,u]);let x=c.current.tabs.indexOf(n);x===-1&&(x=c.current.tabs.push(n)-1);let p=v.indexOf(u);p===-1&&(p=x);let T=p===$,h=L(a=>{var g;let O=a();if(O===U.Success&&l==="auto"){let _=(g=re(u))==null?void 0:g.activeElement,J=I.tabs.findIndex(ee=>ee.current===_);J!==-1&&b.change(J)}return O}),S=L(a=>{let g=v.map(O=>O.current).filter(Boolean);if(a.key===f.Space||a.key===f.Enter){a.preventDefault(),a.stopPropagation(),b.change(p);return}switch(a.key){case f.Home:case f.PageUp:return a.preventDefault(),a.stopPropagation(),h(()=>E(g,m.First));case f.End:case f.PageDown:return a.preventDefault(),a.stopPropagation(),h(()=>E(g,m.Last))}if(h(()=>V(i,{vertical(){return a.key===f.ArrowUp?E(g,m.Previous|m.WrapAround):a.key===f.ArrowDown?E(g,m.Next|m.WrapAround):U.Error},horizontal(){return a.key===f.ArrowLeft?E(g,m.Previous|m.WrapAround):a.key===f.ArrowRight?E(g,m.Next|m.WrapAround):U.Error}}))===U.Success)return a.preventDefault()}),k=s.exports.useRef(!1),G=L(()=>{var a;k.current||(k.current=!0,(a=u.current)==null||a.focus(),b.change(p),te(()=>{k.current=!1}))}),d=L(a=>{a.preventDefault()}),F=s.exports.useMemo(()=>({selected:T}),[T]),M=e,Z={ref:y,onKeyDown:S,onMouseDown:d,onClick:G,id:n,role:"tab",type:ne(e,u),"aria-controls":(o=(r=P[p])==null?void 0:r.current)==null?void 0:o.id,"aria-selected":T,tabIndex:T?0:-1};return D({ourProps:Z,theirProps:M,slot:F,defaultTag:be,name:"Tabs.Tab"})}),fe="div",me=w(function(e,t){let{selectedIndex:r}=R("Tab.Panels"),o=C(t),n=s.exports.useMemo(()=>({selectedIndex:r}),[r]);return D({ourProps:{ref:o},theirProps:e,slot:n,defaultTag:fe,name:"Tabs.Panels"})}),Te="div",ge=K.RenderStrategy|K.Static,ve=w(function(e,t){var r,o,n,i;let{selectedIndex:l,tabs:$,panels:v}=R("Tab.Panel"),P=H("Tab.Panel"),b=z("Tab.Panel"),I=`headlessui-tabs-panel-${X()}`,c=s.exports.useRef(null),u=C(c,t);N(()=>P.registerPanel(c),[P,c]);let y=b.current.panels.indexOf(I);y===-1&&(y=b.current.panels.push(I)-1);let x=v.indexOf(c);x===-1&&(x=y);let p=x===l,T=s.exports.useMemo(()=>({selected:p}),[p]),h=e,S={ref:u,id:I,role:"tabpanel","aria-labelledby":(o=(r=$[x])==null?void 0:r.current)==null?void 0:o.id,tabIndex:p?0:-1};return!p&&((n=e.unmount)!=null?n:!0)&&!((i=e.static)!=null&&i)?A.createElement(Y,{as:"span",...S}):D({ourProps:S,theirProps:h,slot:T,defaultTag:Te,features:ge,visible:p,name:"Tabs.Panel"})}),Ee=Object.assign(xe,{Group:ce,List:de,Panels:me,Panel:ve});export{Ee as q};
