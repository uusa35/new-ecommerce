import v from"./BackendContainer.14a50d96.js";import{r as p,A as b,e as k,c as C,b as w,u as F,a as e,j as t,d as u,h as q,x as V,s as L}from"./app.8f41755a.js";import n from"./ToolTipWidget.402995ed.js";import D from"./FormBtns.59c9ecb7.js";import{R as y}from"./quill.snow.30370e95.js";import"./SideBar.511b97bc.js";import"./FiCircle.c9b8b928.js";import"./pluralize.a87e66d1.js";import"./transition.a7dac45d.js";import"./open-closed.0d489d91.js";import"./dialog.d76c2d8b.js";import"./use-owner.dcb13aec.js";import"./use-event-listener.cd17cf37.js";import"./menu.b1c0e94d.js";import"./use-resolve-button-type.fe2d668c.js";import"./BackendHeader.a041d251.js";import"./index.esm.968e8465.js";import"./Footer.2cad62e5.js";import"./BreadCrumbs.ce32cd7c.js";import"./SearchField.46d947e0.js";import"./Pagination.cd5c230b.js";import"./NoElements.fe12762f.js";import"./index.74c4741c.js";import"./SystemMessage.0606d8b1.js";import"./ConfirmationModal.5397c6b8.js";function ce({subscription:r}){const{trans:a,getLocalized:T,getThumb:_,getFileUrl:j}=p.exports.useContext(b),[m,N]=p.exports.useState([]),{locale:f}=k(c=>c),{errors:l}=C().props,x=w();let g={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],["link"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:f.dir}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]};const{data:o,setData:h,put:I,progress:S}=F({name_ar:r.name_ar,name_en:r.name_en,caption_ar:r.caption_ar,caption_en:r.caption_en,description_ar:r.description_ar,description_en:r.description_en,image:r.image,notes_ar:r.notes_ar,notes_en:r.notes_en,months:r.months,price:r.price,sale_price:r.sale_price,free:r.free,is_featured:r.is_featured,on_sale:r.on_sale,code:r.code,active:r.active}),s=c=>{h(i=>({...i,[c.target.id]:c.target.value}))};return e(v,{type:"subscription",children:e("div",{className:"flex flex-col bg-white shadow-md rounded-md",children:e("form",{onSubmit:c=>{c.preventDefault(),u.Inertia.post(q("backend.subscription.update",r.id),{_method:"put",...o,image:o.image},{forceFormData:!0}),m.length>0&&setTimeout(()=>{let i=new FormData;for(let d=0;d<m.length;d++)i.append(`images[${d}]`,m[d]),m[d];i.append("model","subscription"),i.append("id",r.id),i.append("order",r.id),V.post("/api/images/upload",i).then(d=>{x(L({message:a("process_success"),type:"success"}))}).catch(d=>console.log("eee",d)).finally(()=>{reset("images"),N({}),u.Inertia.reload({only:["subscription"]})})},1e3)},method:"post",encType:"multipart/form-data",className:"w-full px-10 space-y-3 mb-6",children:t("div",{className:"space-y-4 divide-y 900",children:[t("div",{className:"pt-4",children:[t("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[a("edit")," ",a("subscription")]}),t("p",{className:"mt-1 text-sm text-gray-500",children:[a("edit")," ",a("subscription")]})]}),t("div",{className:"pt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"name_ar",className:"block   text-gray-800",children:a("name_ar")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"name_ar",maxLength:100,defaultValue:r.name_ar,id:"name_ar",autoComplete:"name_ar",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("name_ar_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.name_ar&&e("div",{className:"text-red-900",children:l.name_ar})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"name_en",className:"block   text-gray-800",children:a("name_en")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"name_en",maxLength:100,defaultValue:r.name_en,id:"name_en",autoComplete:"name_en",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("name_en_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.name_en&&e("div",{className:"text-red-900",children:l.name_en})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"price",className:"block   text-gray-800",children:a("price")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"number",step:"any",name:"price",defaultValue:r.price,id:"price",autoComplete:"price",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("price_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.price&&e("div",{className:"text-red-900",children:l.price})})]}),t("div",{className:"sm:col-span-2 has-tooltip",children:[e("label",{htmlFor:"sale_price",className:"block   text-gray-800",children:a("sale_price")}),e("div",{className:"mt-1 ",children:e("input",{onChange:s,required:!0,type:"number",step:"any",name:"sale_price",defaultValue:r.sale_price,id:"sale_price",autoComplete:"sale_price",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("product_sale_price_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.sale_price&&e("div",{className:"text-red-900",children:l.sale_price})})]}),t("div",{className:"sm:col-span-2",children:[t("label",{htmlFor:"order",className:"block   text-gray-800",children:[a("months")," ",a("subscription")]}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"months",defaultValue:r.months,id:"months",autoComplete:"months",className:"shadow-sm focus:ring-gray-500 focus:bmonths-gray-500 block w-full bmonths-gray-300 rounded-md"})}),e(n,{message:a("months_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.months&&e("div",{className:"text-red-900",children:l.months})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"caption_ar",className:"block   text-gray-800",children:a("caption_ar")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"caption_ar",maxLength:60,defaultValue:r.caption_ar,id:"caption_ar",autoComplete:"caption_ar",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("caption_ar_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.caption_ar&&e("div",{className:"text-red-900",children:l.caption_ar})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"caption_en",className:"block   text-gray-800",children:a("caption_en")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"caption_en",maxLength:60,defaultValue:r.caption_en,id:"caption_en",autoComplete:"caption_en",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("caption_en_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.caption_en&&e("div",{className:"text-red-900",children:l.caption_en})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"notes_ar",className:"block   text-gray-800",children:a("notes_ar")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"notes_ar",maxLength:200,defaultValue:r.notes_ar,id:"notes_ar",autoComplete:"notes_ar",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("notes_ar_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.notes_ar&&e("div",{className:"text-red-900",children:l.notes_ar})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"notes_en",className:"block   text-gray-800",children:a("notes_en")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"text",name:"notes_en",maxLength:200,defaultValue:r.notes_en,id:"notes_en",autoComplete:"notes_en",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("notes_en_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.notes_en&&e("div",{className:"text-red-900",children:l.notes_en})})]}),t("div",{className:"sm:col-span-1",children:[e("label",{htmlFor:"code",className:"block   text-gray-800",children:a("code")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"color",name:"code",defaultValue:r.code,id:"code",autoComplete:"code",className:"shadow-sm focus:ring-gray-500 h-10 focus:bcode-gray-500 block w-full bcode-gray-300 rounded-md"})}),e(n,{message:a("code_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.code&&e("div",{className:"text-red-900",children:l.code})})]}),t("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"order",className:"block   text-gray-800",children:a("sequance")}),e("div",{className:"mt-1",children:e("input",{onChange:s,required:!0,type:"number",max:99,name:"order",defaultValue:r.order,id:"order",autoComplete:"order",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:a("order_instruction")}),e("p",{className:"mt-2  text-gray-500",children:l.order&&e("div",{className:"text-red-900",children:l.order})})]}),t("div",{className:"sm:col-span-3 has-tooltip mt-5",children:[e("label",{htmlFor:"main_image",className:"block   text-gray-800",children:a("main_image")}),t("div",{className:"mt-1 flex flex-row flex-1 items-center h-32",children:[e("input",{onChange:c=>h("image",c.target.files[0]),type:"file",name:"image",id:"main_image",accept:"image/jpg, image/jpeg , image/png",autoComplete:"main_image",className:"focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"}),e("img",{className:"h-24 w-20 bg-cover rounded-md",src:_(r.image),alt:""})]}),e(n,{message:a("book_main_image_instruction")}),e("p",{className:" text-red-500 rtl:text-left ltr:text-right",children:a("image_best_fit")}),e("p",{className:"mt-2  text-gray-500",children:l.image&&e("div",{className:"text-red-900",children:l.image})})]})]}),t("div",{className:"space-y-20 sm:col-span-full",children:[t("div",{className:"sm:col-span-full has-tooltip",children:[e("label",{htmlFor:"description_en",className:"block text-sm font-medium text-gray-800",children:a("description_en")}),e("div",{className:"mt-1",children:e(y,{theme:"snow",modules:g,value:o.description_en,onChange:c=>h("description_en",c),className:"h-40"})}),e(n,{message:a("product_aboutus_instruction")}),e("p",{className:"mt-2 text-xs text-gray-500",children:l.description_en&&e("div",{className:"text-red-900",children:l.description_en})})]}),t("div",{className:"sm:col-span-full has-tooltip",children:[e("label",{htmlFor:"description_ar",className:"block text-sm font-medium text-gray-800",children:a("description_ar")}),e("div",{className:"mt-1",children:e(y,{theme:"snow",modules:g,value:o.description_ar,onChange:c=>h("description_ar",c),className:"h-40"})}),e(n,{message:a("product_aboutus_instruction")}),e("p",{className:"mt-2 text-xs text-gray-500",children:l.description_ar&&e("div",{className:"text-red-900",children:l.description_ar})})]})]}),t("div",{className:"pt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-4",children:[t("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:a("active")})}),t("div",{className:"mt-4 space-y-4",children:[t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"active",name:"active",type:"radio",value:1,defaultChecked:r.active,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"active",className:"ml-3 block   text-gray-800",children:a("yes")})]}),t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"active",name:"active",type:"radio",value:0,defaultChecked:!r.active,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"active",className:"ml-3 block   text-gray-800",children:a("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:l.active&&e("div",{className:"text-red-900",children:l.active})})})]}),t("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:a("on_sale")})}),t("div",{className:"mt-4 space-y-4",children:[t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"on_sale",name:"on_sale",type:"radio",value:1,defaultChecked:r.on_sale,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"on_sale",className:"ml-3 block   text-gray-800",children:a("yes")})]}),t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"on_sale",name:"on_sale",type:"radio",value:0,defaultChecked:!r.on_sale,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"on_sale",className:"ml-3 block   text-gray-800",children:a("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:l.on_sale&&e("div",{className:"text-red-900",children:l.on_sale})})})]}),t("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:a("is_featured")})}),t("div",{className:"mt-4 space-y-4",children:[t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"is_featured",name:"is_featured",type:"radio",value:1,defaultChecked:r.is_featured,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"is_featured",className:"ml-3 block   text-gray-800",children:a("yes")})]}),t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"is_featured",name:"is_featured",type:"radio",value:0,defaultChecked:!r.is_featured,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"is_featured",className:"ml-3 block   text-gray-800",children:a("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:l.is_featured&&e("div",{className:"text-red-900",children:l.is_featured})})})]}),t("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:a("free")})}),t("div",{className:"mt-4 space-y-4",children:[t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"free",name:"free",type:"radio",value:1,defaultChecked:r.free,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"free",className:"ml-3 block   text-gray-800",children:a("yes")})]}),t("div",{className:"flex items-center",children:[e("input",{onChange:s,id:"free",name:"free",type:"radio",value:0,defaultChecked:!r.free,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"free",className:"ml-3 block   text-gray-800",children:a("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:l.free&&e("div",{className:"text-red-900",children:l.free})})})]})]}),e(D,{type:"category"})]})})})})}export{ce as default};
