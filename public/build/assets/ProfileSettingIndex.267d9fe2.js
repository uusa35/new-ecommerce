import{r as t,R as d,A as j,e as E,c as T,u as L,a as e,j as m,d as S,h as I}from"./app.8f41755a.js";import G from"./FrontendContainer.f87df6a5.js";import M from"./FrontendContentContainer.e2e5b70a.js";import R from"./UserEditSideNav.b6c60a4c.js";import{C as O,$ as _,y as A,o as b,F as K}from"./open-closed.0d489d91.js";import{I as U,r as z,o as $}from"./use-owner.dcb13aec.js";import{F as B,M as H,T as J,p as Q}from"./label.d815bde7.js";import{F as V,k as q}from"./dialog.d76c2d8b.js";import{s as W}from"./use-resolve-button-type.fe2d668c.js";import{h as X,a as Y}from"./use-event-listener.cd17cf37.js";import"./index.74c4741c.js";import"./MainNav.20d61781.js";import"./index.esm.968e8465.js";import"./index.esm.c2914463.js";import"./helpers.b999fcd4.js";import"./SearchField.46d947e0.js";import"./pluralize.a87e66d1.js";import"./MainNavBookCategoriesList.378062f1.js";import"./popover.4efe15a7.js";import"./motion.5c4d7eb2.js";import"./CartIndexOrderSummary.222fd040.js";import"./lib.3666cbba.js";import"./NoElements.fe12762f.js";import"./tabs.59b69d47.js";import"./transition.a7dac45d.js";import"./menu.b1c0e94d.js";import"./MetaElement.15b324ae.js";/* empty css                   */import"./SystemMessage.0606d8b1.js";import"./FrontendBreadCrumbs.bfadd15b.js";let k=t.exports.createContext(null);k.displayName="GroupContext";let Z=t.exports.Fragment;function ee(r){let[n,s]=t.exports.useState(null),[p,u]=H(),[l,f]=q(),o=t.exports.useMemo(()=>({switch:n,setSwitch:s,labelledby:p,describedby:l}),[n,s,p,l]),h={},a=r;return d.createElement(f,{name:"Switch.Description"},d.createElement(u,{name:"Switch.Label",props:{onClick(){!n||(n.click(),n.focus({preventScroll:!0}))}}},d.createElement(k.Provider,{value:o},_({ourProps:h,theirProps:a,defaultTag:Z,name:"Switch.Group"}))))}let te="button",re=O(function(r,n){let{checked:s,defaultChecked:p=!1,onChange:u,name:l,value:f,...o}=r,h=`headlessui-switch-${U()}`,a=t.exports.useContext(k),g=t.exports.useRef(null),C=A(g,n,a===null?null:a.setSwitch),[c,y]=J(s,u,p),v=b(()=>y==null?void 0:y(!c)),w=b(i=>{if(z(i.currentTarget))return i.preventDefault();i.preventDefault(),v()}),x=b(i=>{i.key===$.Space?(i.preventDefault(),v()):i.key===$.Enter&&Q(i.currentTarget)}),F=b(i=>i.preventDefault()),D=t.exports.useMemo(()=>({checked:c}),[c]),P={id:h,ref:C,role:"switch",type:W(r,g),tabIndex:0,"aria-checked":c,"aria-labelledby":a==null?void 0:a.labelledby,"aria-describedby":a==null?void 0:a.describedby,onClick:w,onKeyUp:x,onKeyPress:F};return d.createElement(d.Fragment,null,l!=null&&c&&d.createElement(X,{features:Y.Hidden,...K({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:c,name:l,value:f})}),_({ourProps:P,theirProps:o,slot:D,defaultTag:te,name:"Switch"}))}),N=Object.assign(re,{Group:ee,Label:B,Description:V});function Te({user:r}){const{classNames:n,trans:s,getThumb:p,contentBgColor:u,textColor:l}=t.exports.useContext(j),{locale:f}=E(x=>x),[o,h]=t.exports.useState(r.news_letter_on);t.exports.useState(!1),T();const{data:a,setData:g,put:C,post:c,progress:y,reset:v}=L({name_ar:r.name_ar,name_en:r.name_en,mobile:r.mobile,news_letter_on:o});t.exports.useMemo(()=>{g("news_letter_on",o)},[o]);const w=x=>{x.preventDefault(),S.Inertia.post(I("frontend.user.update",r.id),{_method:"put",...a,onSuccess:()=>{S.Inertia.reload({only:["user"]})}},{forceFormData:!0})};return e(G,{children:e(M,{children:e("main",{className:`relative pt-5  ${u}`,children:e("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-8",children:e("div",{className:"overflow-hidden",children:m("div",{className:" lg:grid lg:grid-cols-12",children:[e(R,{}),e("form",{className:" lg:col-span-9",onSubmit:w,method:"POST",children:m("div",{className:"py-6 px-4 sm:p-6 lg:pb-8",children:[e("div",{className:"flex flex-1 justify-between items-center",children:m("div",{children:[e("h2",{className:`text-lg leading-6 font-medium ${l}`,children:s("profile")}),e("p",{className:"mt-1 text-sm text-gray-500",children:s("my_settings")})]})}),m("div",{className:" divide-y divide-gray-200",children:[e("div",{className:"px-4 sm:px-6",children:e("ul",{className:"mt-2 divide-y divide-gray-200",children:m(N.Group,{as:"li",className:"py-4 flex items-center justify-between",children:[e("div",{className:"flex flex-col",children:e(N.Label,{as:"p",className:"text-sm font-medium text-gray-900",passive:!0,children:s("newsletter_subscription")})}),e(N,{checked:o,onChange:h,className:n(o?"bg-green-900":"bg-gray-300","ml-4 relative inline-flex flex-shrink-0 h-6 w-11 border-2 border-transparent rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500"),children:e("span",{"aria-hidden":"true",className:n(o?f.isRTL?"-translate-x-5":"translate-x-5":"translate-x-0","inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 transition ease-in-out duration-200")})})]})})}),m("div",{className:"mt-4 py-4 px-4 flex justify-end gap-x-5",children:[e("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-800 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:s("cancel")}),e("button",{type:"submit",className:"ml-5 bg-gray-200 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-black hover:bg-sky-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:s("save")})]})]})]})})]})})})})})})}export{Te as default};
