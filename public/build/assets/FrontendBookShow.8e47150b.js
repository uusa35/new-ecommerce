import{r as u,A as L,G as j,e as B,b as F,u as z,l as c,a0 as y,j as t,a as r,F as h,h as M,a1 as O}from"./app.8f41755a.js";import P from"./FrontendContainer.f87df6a5.js";import T from"./ElementPrice.24f8d79a.js";import I from"./ElementTags.b41162b2.js";import A from"./RelatedItems.5b0ac420.js";import{I as E}from"./image-gallery.4848a544.js";import R from"./ElementRating.72b4bd14.js";import W from"./ElementFavoriteBtn.9108325a.js";import{i as G}from"./lib.3666cbba.js";import q from"./AlertMessage.0840591f.js";import D from"./SubMetaElement.bc440d06.js";import H from"./FrontendContentContainer.e2e5b70a.js";import U from"./SocialIconShare.2516b25a.js";import{getFileType as J}from"./helpers.b999fcd4.js";import K from"./ElementShowBtnNotes.4184dc0e.js";import{b as p}from"./index.esm.968e8465.js";import{O as l}from"./disclosure.ddbd91a8.js";import"./index.74c4741c.js";import"./MainNav.20d61781.js";import"./index.esm.c2914463.js";import"./SearchField.46d947e0.js";import"./pluralize.a87e66d1.js";import"./MainNavBookCategoriesList.378062f1.js";import"./popover.4efe15a7.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-resolve-button-type.fe2d668c.js";import"./use-event-listener.cd17cf37.js";import"./motion.5c4d7eb2.js";import"./CartIndexOrderSummary.222fd040.js";import"./NoElements.fe12762f.js";import"./tabs.59b69d47.js";import"./transition.a7dac45d.js";import"./dialog.d76c2d8b.js";import"./menu.b1c0e94d.js";import"./MetaElement.15b324ae.js";/* empty css                   */import"./SystemMessage.0606d8b1.js";import"./FiCircle.c9b8b928.js";import"./FrontendBreadCrumbs.bfadd15b.js";function Te({element:e,relatedElements:f,auth:x}){const{getThumb:g,getLarge:v,getLocalized:s,trans:o,classNames:d,getFileUrl:_,mainColor:a,mainBgColor:Q,contentBgColor:k,btnClass:m}=u.exports.useContext(L),{settings:N}=u.exports.useContext(j),{locale:w}=B(i=>i);u.exports.useState();const[$,S]=u.exports.useState([]),b=F();z({type:"book",cart_id:null,element_id:e.id,timing_id:null,qty:1,price:e.isOnSale?e.sale_price:e.price,direct_purchase:e.direct_purchase}),u.exports.useMemo(()=>{const i=[{thumbnail:g(e.image),original:v(e.image),loading:"lazy"}];c.exports.map(e.images,n=>{i.push({thumbnail:g(n.image),original:v(n.image),loading:"lazy"})}),S(i)},[e]);const C=i=>{i.preventDefault(),b(O({cart_id:e.id,type:"book",element_id:e.id,qty:1,price:parseFloat(e.isOnSale?e.sale_price:e.price),totalPrice:parseFloat(e.isOnSale?e.sale_price:e.price),direct_purchase:e.direct_purchase,shipmentFees:0,image:e.image,name_ar:e.name_ar,name_en:e.name_en,description_ar:e.description_ar,description_en:e.description_en,merchant_id:e.user.id,merchant_name_ar:e.user.name_ar,merchant_name_en:e.user.name_en,merchant_enable_receive_from_shop:e.user.enable_receive_from_shop,merchant_custome_delivery:e.user.custome_delivery,merchant_custome_delivery_fees:e.user.custome_delivery_fees}))};return u.exports.useEffect(()=>(e.user.banner&&e.user.banner.length>12&&b(y(e.user.banner)),()=>b(y(N.menu_bg))),[]),t(P,{children:[r(D,{title:e[s()],description:e[s("description")],image:e.image}),r(H,{childName:e[s()],children:t("div",{className:`${k} max-w-2xl mx-auto lg:max-w-none pt-10 h-full`,children:[t("div",{className:"lg:grid lg:grid-cols-2  lg:px-4 lg:items-start",children:[t("div",{className:"relative",children:[r(I,{exclusive:e.exclusive,onSale:e.isOnSale,onNew:e.on_new,free:e.free,showFavoriteIcon:!1}),r(E,{showBullets:!0,showNav:!0,renderLeftNav:(i,n)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:n,onClick:i,"aria-label":"Previous Slide",children:w.isRTL?r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),renderRightNav:(i,n)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:n,onClick:i,"aria-label":"Previous Slide",children:w.isRTL?r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}):r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),renderFullscreenButton:(i,n)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",disabled:n,onClick:i,"aria-label":"Previous Slide",children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})}),originalAlt:e[s()],originalTitle:e[s()],thumbnailLabel:e[s()],thumbnailTitle:e[s()],showThumbnails:!0,useBrowserFullscreen:!0,disableThumbnailScroll:!0,thumbnailPosition:G?"bottom":"right",items:$})]}),t("div",{className:"mx-5 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[r("h1",{className:`text-3xl font-extrabold tracking-tight text-${a}-900 dark:text-${a}-100`,children:e[s()]}),t("div",{className:"mt-3",children:[r("h2",{className:"sr-only",children:o("information")}),r(T,{price:e.price,salePrice:e.sale_price,showLocal:!0,isOnSale:e.isOnSale,large:!0,free:e.free})]}),e.ratings&&r(R,{ratings:e.ratings,id:e.id,type:"book"}),t("div",{className:"flex flex-1 flex-col sm:flex-row justify-between items-center",children:[r("div",{className:"flex flex-1",children:!c.exports.isNull(e[s("caption")])&&t("div",{className:"mt-6",children:[r("h3",{className:"sr-only",children:o("caption")}),r("div",{className:`text-base text-${a}-800 dark:text-${a}-100 space-y-6`,children:e[s("caption")]})]})}),r("div",{className:"flex",children:!c.exports.isNull(e.sku)&&t("div",{className:"mt-6",children:[r("h3",{className:"sr-only",children:o("sku")}),t("div",{className:`text-base text-${a}-800 dark:text-${a}-100 space-y-6`,children:[o("reference_id")," :",e.sku]})]})})]}),t("div",{className:"mt-6",children:[!e.is_available&&r(q,{title:o("element_is_not_available"),message:o("element_is_not_available_currently_for_order")}),t("div",{className:"flex flex-row justify-between items-center gap-x-5",children:[e.free?r(h,{children:!c.exports.isNull(e.file)&&J(e.file)==="pdf"?r("a",{target:"_blank",href:M("frontend.free.book",e.id),className:d(e.is_available?`${m}`:"opacity-30",`flex flex-1 ${m} border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-${a}-50 focus:ring-${a}-500 sm:w-full`),children:o("view")}):r("a",{href:_(e.file),download:!0,className:d(e.is_available?`${m} `:"opacity-30",`flex flex-1 ${m} border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-${a}-50 focus:ring-${a}-500 sm:w-full`),children:o("download")})}):r("form",{onSubmit:C,className:"flex-grow",children:r("button",{disabled:!e.is_available,type:"submit",className:d(e.is_available?`opacity-100 ${m}`:"opacity-30",`${m} flex flex-1  border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-${a}-50 focus:ring-${a}-500 sm:w-full`),children:o("add_to_cart")})}),N.enable_favorite&&r("div",{className:"flex-none w-10",children:r(W,{id:e.id,type:"book",favoritesList:x==null?void 0:x.favoritesList})})]})]}),t("section",{"aria-labelledby":"details-heading",className:"my-12",children:[r("h2",{id:"details-heading",className:"sr-only",children:"Additional details"}),t("div",{className:"border-t divide-y divide-gray-200 ",children:[!c.exports.isNull(e[s("description")])&&c.exports.size(e[s("description")])>5?r(l,{as:"div",defaultOpen:!0,children:({open:i})=>t(h,{children:[t(l.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:d(i?`text-${a}-900 dark:text-${a}-100`:`text-${a}-600 dark:text-${a}-200`,"capitalize font-extrabold"),children:o("description")}),r("span",{className:"ml-6 flex items-center",children:i?r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(l.Panel,{as:"div",className:"pb-6",children:r("p",{className:`capitalize font-bold text-${a}-800 dark:text-${a}-100`,children:e[s("description")]})})]})}):null,!c.exports.isNull(e[s("notes")])&&c.exports.size(e[s("notes")])>5?r(l,{as:"div",defaultOpen:!1,children:({open:i})=>t(h,{children:[t(l.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:d(i?`text-${a}-600 dark:text-${a}-100`:`text-${a}-600 dark:text-${a}-100`,"capitalize font-extrabold"),children:o("notes")}),r("span",{className:"ml-6 flex items-center",children:i?r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(l.Panel,{as:"div",className:"pb-6",children:r("p",{className:`capitalize font-bold text-${a}-800 dark:text-${a}-100`,children:e[s("notes")]})})]})}):null,r(l,{as:"div",defaultOpen:!1,children:({open:i})=>t(h,{children:[t(l.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:d(i?`text-${a}-600 dark:text-${a}-100`:`text-${a}-600 dark:text-${a}-100`,"capitalize font-extrabold"),children:o("owner")}),r("span",{className:"ml-6 flex items-center",children:i?r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(l.Panel,{as:"div",className:"pb-6 ",children:t("div",{className:"flex flex-row justify-start items-start",children:[r("div",{className:"w-20",children:r("img",{className:"w-20 h-20 rounded-full object-cover shadow-md",src:g(e.user.image),alt:e.user[s()]})}),t("div",{className:"flex-1 rtl:mr-5 ltr:ml-5",children:[t("div",{className:`border-b border-${a}-200 dark:text-${a}-100 mb-2 pb-2`,children:[r("h4",{className:`text-${a}-800 dark:text-${a}-100`,children:e.user[s()]}),r("p",{className:`text-${a}-800 dark:text-${a}-100`,children:e.user[s("caption")]})]}),r("p",{className:`text-sm text-${a}-800 dark:text-${a}-100`,children:e.user[s("description")]})]})]})})]})})]})]}),r(K,{directPurchase:e.direct_purchase,sku:e.sku})]})]}),r(U,{}),f&&f.meta.total>0&&r(A,{elements:f.data,type:"book",title:o("related_books")})]})})]})}export{Te as default};
