import{r as c,A,c as G,u as L,l,a as e,j as s,d as T,h as D}from"./app.8f41755a.js";import E from"./FrontendContainer.f87df6a5.js";import M from"./FrontendContentContainer.e2e5b70a.js";import U from"./UserEditSideNav.b6c60a4c.js";import N from"./ToolTipWidget.402995ed.js";import"./index.74c4741c.js";import"./MainNav.20d61781.js";import"./index.esm.968e8465.js";import"./index.esm.c2914463.js";import"./helpers.b999fcd4.js";import"./SearchField.46d947e0.js";import"./pluralize.a87e66d1.js";import"./MainNavBookCategoriesList.378062f1.js";import"./popover.4efe15a7.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-resolve-button-type.fe2d668c.js";import"./use-event-listener.cd17cf37.js";import"./motion.5c4d7eb2.js";import"./CartIndexOrderSummary.222fd040.js";import"./lib.3666cbba.js";import"./NoElements.fe12762f.js";import"./tabs.59b69d47.js";import"./transition.a7dac45d.js";import"./dialog.d76c2d8b.js";import"./menu.b1c0e94d.js";import"./MetaElement.15b324ae.js";/* empty css                   */import"./SystemMessage.0606d8b1.js";import"./FrontendBreadCrumbs.bfadd15b.js";function _e({user:a,countries:h}){const{trans:t,getThumb:v,getLocalized:g,contentBgColor:$,textColor:n,btnClass:q}=c.exports.useContext(A),[f,k]=c.exports.useState([]),[z,_]=c.exports.useState(""),[B,x]=c.exports.useState(""),[I,w]=c.exports.useState(""),[C,y]=c.exports.useState([]),{props:V}=G(),{errors:o}=V,{data:m,setData:b,put:P,post:W,progress:H,reset:J}=L({name:a.name_en,name_ar:a.name_ar,name_en:a.name_en,mobile:a.mobile,whatsapp:a.whatsapp,country_id:a.country_id,governate_id:a.governate_id,area_id:a.area_id,block:a.block,street:a.street,building:a.building,floor:a.floor,apartment:a.apartment,image:a.image});c.exports.useMemo(()=>{const r=a.country_id?l.exports.first(l.exports.filter(h,u=>u.id==a.country_id)):l.exports.first(h),d=l.exports.first(l.exports.filter(r.governates,u=>u.id==a.governate_id)),p=d||l.exports.first(r.governates),F=l.exports.first(l.exports.filter(p.areas,u=>u.id==a.area_id)),j=a.area_id&&F?F:l.exports.first(p.areas);_(r),x(p),w(j),k(r.governates),y(p.areas)},[]),c.exports.useMemo(()=>{if(m.country_id!==a.country_id){const r=l.exports.first(l.exports.filter(h,p=>p.id==m.country_id));_(r),k(r.governates),x(l.exports.first(r.governates));const d=l.exports.first(r.governates).areas;y(d),w(l.exports.first(d).id)}},[m.country_id]),c.exports.useMemo(()=>{if(!l.exports.isEmpty(f)){const r=l.exports.first(l.exports.filter(f,d=>d.id==m.governate_id));x(r),y(r.areas?r.areas:[]),b("area_id",r.areas?l.exports.first(r.areas).id:"")}},[m.governate_id]);const i=r=>{b(d=>({...d,[r.target.id]:r.target.value}))},S=r=>{r.preventDefault(),T.Inertia.post(D("frontend.user.update",a.id),{_method:"put",...m},{forceFormData:!0})};return e(E,{children:e(M,{children:e("main",{className:`relative pt-5  ${$}`,children:e("div",{className:"max-w-screen-xl mx-auto pb-6 px-4 sm:px-6 lg:pb-16 lg:px-8",children:e("div",{className:"overflow-hidden",children:s("div",{className:" lg:grid lg:grid-cols-12",children:[e(U,{}),s("form",{className:" lg:col-span-9",onSubmit:S,method:"put",encType:"multipart/form-data",children:[s("div",{className:"py-6 px-4 sm:p-6 lg:pb-8",children:[s("div",{className:"flex flex-1 justify-between items-center",children:[s("div",{children:[e("h2",{className:`text-lg leading-6 font-medium ${n}`,children:t("profile")}),s("p",{className:"mt-1 text-sm text-gray-500",children:[t("account_type")," :"," ",a.role[g()]]})]}),e("div",{className:"flex flex-col lg:flex-row",children:s("div",{className:"flex-grow lg:mt-0 lg:ml-6 lg:flex-grow-0 lg:flex-shrink-0",children:[e("p",{className:` ${n} text-sm font-medium`,"aria-hidden":"true",children:t("personal_image")}),e("div",{className:"mt-1 lg:hidden",children:s("div",{className:"flex items-center",children:[e("img",{className:"rounded-full h-10 w-10 shadow-md",src:v(a.image),alt:""}),e("div",{className:"ml-5 rounded-md shadow-sm",children:s("div",{className:"group relative border border-gray-300 rounded-md py-2 px-3 flex items-center justify-center hover:bg-gray-50 focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-sky-500",children:[s("label",{htmlFor:"mobile-user-photo",className:"relative text-sm leading-4 font-medium text-gray-800 pointer-events-none",children:[e("span",{children:t("change")}),s("span",{className:"sr-only",children:[" ","user photo"]})]}),e("input",{id:"mobile-user-photo",name:"image",type:"file",onChange:r=>b("image",r.target.files[0]),className:"absolute w-full h-full opacity-0 cursor-pointer border-gray-300 rounded-md"})]})})]})}),s("div",{className:"hidden relative rounded-full overflow-hidden lg:block",children:[e("img",{className:"relative rounded-full w-20 h-20 shadow-sm",src:v(a.image),alt:""}),s("label",{htmlFor:"desktop-user-photo",className:"absolute inset-0 w-full h-full bg-black bg-opacity-75 flex items-center justify-center text-sm font-medium text-white opacity-80 hover:opacity-100 focus-within:opacity-100",children:[e("span",{children:t("change")}),s("span",{className:"sr-only",children:[" ","user photo"]}),e("input",{type:"file",id:"desktop-user-photo",name:"image",onChange:r=>b("image",r.target.files[0]),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer border-gray-300 rounded-md"})]})]})]})})]}),s("div",{className:"mt-6 grid grid-cols-12 gap-3",children:[s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"email",className:`block ${n}`,children:t("email")}),e("input",{type:"text",name:"email",id:"email",disabled:!0,defaultValue:a.email,autoComplete:t("email"),className:"disabled mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.email&&e("div",{className:"text-sm text-red-900",children:o.email})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"name_en",className:`block ${n}`,children:t("name_en")}),e("input",{type:"text",name:"name_en",maxLength:100,id:"name_en",onChange:i,defaultValue:a.name_en,autoComplete:t("name_en"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.name_en&&e("div",{className:"text-sm text-red-900",children:o.name_en})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"name_ar",className:`block ${n}`,children:t("name_ar")}),e("input",{type:"text",name:"name_ar",maxLength:100,id:"name_ar",onChange:i,defaultValue:a.name_ar,autoComplete:t("name_ar"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.name_ar&&e("div",{className:"text-sm text-red-900",children:o.name_ar})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"mobile",className:`block ${n}`,children:t("mobile")}),e("input",{type:"text",name:"name_ar",maxLength:100,id:"mobile",onChange:i,defaultValue:a.mobile,autoComplete:t("mobile"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.mobile&&e("div",{className:"text-sm text-red-900",children:o.mobile})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"whatsapp",className:`block ${n}`,children:t("whatsapp")}),e("input",{type:"text",name:"whatsapp",id:"whatsapp",onChange:i,defaultValue:a.whatsapp,autoComplete:t("whatsapp"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.whatsapp&&e("div",{className:"text-sm text-red-900",children:o.whatsapp})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"country_id",className:`block ${n}`,children:t("country")}),e("div",{className:"mt-1",children:s("select",{onChange:i,id:"country_id",name:"country_id",defaultValue:a.country_id,autoComplete:"country_id",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md text-black",children:[s("option",{value:"",children:[t("choose")," ",t("country")]}),l.exports.map(h,r=>e("option",{value:r.id,children:r[g()]},r.id))]})}),e(N,{message:t("user_instruction")}),e("p",{className:"mt-2  text-gray-500",children:o.country_id&&e("div",{className:"text-red-900",children:o.country_id})})]}),f&&s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"governate_id",className:"block   ",children:t("governate")}),e("div",{className:"mt-1",children:s("select",{required:!0,onChange:i,id:"governate_id",name:"governate_id",defaultValue:a.governate_id,autoComplete:"governate_id",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md text-black",children:[s("option",{value:"",children:[t("choose")," ",t("governate")]}),l.exports.map(f,r=>e("option",{value:r.id,children:r[g()]},r.id))]})}),e(N,{message:t("user_instruction")}),e("p",{className:"mt-2  ",children:o.governate_id&&e("div",{className:"text-red-900",children:o.governate_id})})]}),C&&s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"area_id",className:`block ${n}`,children:t("area")}),e("div",{className:"mt-1",children:s("select",{onChange:i,id:"area_id",name:"area_id",defaultValue:a.area_id,autoComplete:"area_id",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md text-black",children:[s("option",{value:"",children:[t("choose")," ",t("area")]}),l.exports.map(C,r=>e("option",{value:r.id,children:r[g()]},r.id))]})}),e(N,{message:t("user_instruction")}),e("p",{className:"mt-2  text-gray-500",children:o.area_id&&e("div",{className:"text-red-900",children:o.area_id})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"block",className:`block ${n}`,children:t("block")}),e("input",{type:"text",name:"block",id:"block",onChange:i,defaultValue:a.block,autoComplete:t("block"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.block&&e("div",{className:"text-sm text-red-900",children:o.block})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"street",className:`block ${n}`,children:t("street")}),e("input",{type:"text",name:"street",id:"street",onChange:i,defaultValue:a.street,autoComplete:t("street"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.street&&e("div",{className:"text-sm text-red-900",children:o.street})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"building",className:`block ${n}`,children:t("building")}),e("input",{type:"text",name:"building",id:"building",onChange:i,defaultValue:a.building,autoComplete:t("building"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.building&&e("div",{className:"text-sm text-red-900",children:o.building})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"apartment",className:`block ${n}`,children:t("apartment")}),e("input",{type:"text",name:"apartment",id:"apartment",onChange:i,defaultValue:a.apartment,autoComplete:t("apartment"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.apartment&&e("div",{className:"text-sm text-red-900",children:o.apartment})})]}),s("div",{className:"col-span-12 sm:col-span-6",children:[e("label",{htmlFor:"floor",className:`block ${n}`,children:t("floor")}),e("input",{type:"text",name:"floor",id:"floor",onChange:i,defaultValue:a.floor,autoComplete:t("floor"),className:"mt-1 text-black block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:outline-none focus:ring-sky-500 focus:border-sky-500 sm:text-sm"}),e("p",{className:"mt-2  text-gray-500",children:o.floor&&e("div",{className:"text-sm text-red-900",children:o.floor})})]})]})]}),e("div",{className:" divide-y divide-gray-200",children:s("div",{className:"mt-4 py-4 px-4 flex justify-end gap-x-5",children:[e("button",{type:"button",className:"bg-white border border-gray-300 rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-gray-800 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:t("cancel")}),e("button",{type:"submit",className:"ml-5 bg-gray-200 border border-transparent rounded-md shadow-sm py-2 px-4 inline-flex justify-center text-sm font-medium text-black hover:bg-sky-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-sky-500",children:t("save")})]})})]})]})})})})})})}export{_e as default};
