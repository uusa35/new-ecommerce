import{r as m,A as P,G as O,e as T,b as A,u as D,l as n,a0 as S,j as t,a as r,i as h,F as _,a2 as E,a1 as H}from"./app.8f41755a.js";import{o as p}from"./index.62a2be08.js";import W from"./FrontendContainer.f87df6a5.js";import R from"./ElementPrice.24f8d79a.js";import q from"./ElementTags.b41162b2.js";import G from"./RelatedItems.5b0ac420.js";import{I as Y}from"./image-gallery.4848a544.js";import Q from"./ElementRating.72b4bd14.js";import J from"./ElementFavoriteBtn.9108325a.js";import{i as K}from"./lib.3666cbba.js";import k from"./AlertMessage.0840591f.js";import U from"./FrontendContentContainer.e2e5b70a.js";import V from"./SubMetaElement.bc440d06.js";import X from"./SocialIconShare.2516b25a.js";import Z from"./ElementShowBtnNotes.4184dc0e.js";import{q as g}from"./menu.b1c0e94d.js";import{W as ee}from"./transition.a7dac45d.js";import{O as c}from"./disclosure.ddbd91a8.js";import"./index.74c4741c.js";import"./MainNav.20d61781.js";import"./index.esm.968e8465.js";import"./index.esm.c2914463.js";import"./helpers.b999fcd4.js";import"./SearchField.46d947e0.js";import"./pluralize.a87e66d1.js";import"./MainNavBookCategoriesList.378062f1.js";import"./popover.4efe15a7.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-resolve-button-type.fe2d668c.js";import"./use-event-listener.cd17cf37.js";import"./motion.5c4d7eb2.js";import"./CartIndexOrderSummary.222fd040.js";import"./NoElements.fe12762f.js";import"./tabs.59b69d47.js";import"./dialog.d76c2d8b.js";import"./MetaElement.15b324ae.js";/* empty css                   */import"./SystemMessage.0606d8b1.js";import"./FiCircle.c9b8b928.js";import"./FrontendBreadCrumbs.bfadd15b.js";function Ge({element:e,relatedElements:f,auth:x}){const{getThumb:v,getLarge:$,getLocalized:s,trans:o,classNames:u,mainColor:i,mainBgColor:re,contentBgColor:C,textColor:b,btnClass:j}=m.exports.useContext(P),{settings:y}=m.exports.useContext(O),[l,L]=m.exports.useState(),[M,B]=m.exports.useState([]),{locale:N}=T(a=>a),w=A(),{data:z,setData:I,post:ie,progress:ae}=D({type:"service",cart_id:null,element_id:e.id,timing_id:null,qty:1,price:e.isOnSale?e.sale_price:e.price,direct_purchase:e.direct_purchase});m.exports.useMemo(()=>{const a=[{thumbnail:v(e.image),original:$(e.image),loading:"lazy"}];n.exports.map(e.images,d=>{a.push({thumbnail:v(d.image),original:$(d.image),loading:"lazy"})}),B(a)},[e]),m.exports.useMemo(()=>{n.exports.isEmpty(l)||I("timing_id",l.id)},[l]);const F=a=>{a.preventDefault(),n.exports.isNull(z.timing_id)?E.error(n.exports.capitalize(o("please_choose_timing"))):w(H({cart_id:e.id,type:"service",element_id:e.id,timing_id:l.id,qty:1,price:e.isOnSale?e.sale_price:e.price,totalPrice:e.isOnSale?e.sale_price:e.price,direct_purchase:e.direct_purchase,shipmentFees:0,image:e.image,name_ar:e.name_ar,name_en:e.name_en,description_ar:e.description_ar,description_en:e.description_en,timing:l,merchant_id:e.user.id,merchant_name_ar:e.user.name_ar,merchant_name_en:e.user.name_en,merchant_enable_receive_from_shop:e.user.enable_receive_from_shop,merchant_custome_delivery:e.user.custome_delivery,merchant_custome_delivery_fees:e.user.custome_delivery_fees}))};return m.exports.useEffect(()=>(e.user.banner&&e.user.banner.length>12&&w(S(e.user.banner)),()=>w(S(y.menu_bg))),[]),t(W,{children:[r(V,{title:e[s()],description:e[s("description")],image:e.image}),r(U,{childName:e[s()],children:t("div",{className:`${C} max-w-2xl mx-auto lg:max-w-none pt-10 h-full`,children:[t("div",{className:"lg:grid lg:grid-cols-2 lg:px-4 lg:items-start",children:[t("div",{className:"relative",children:[r(q,{exclusive:e.exclusive,onSale:e.isOnSale,onNew:e.on_new,showFavoriteIcon:!1}),r(Y,{showBullets:!0,showNav:!0,renderLeftNav:(a,d)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-left-nav",disabled:d,onClick:a,"aria-label":"Previous Slide",children:N.isRTL?r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})}):r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}),renderRightNav:(a,d)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-right-nav",disabled:d,onClick:a,"aria-label":"Previous Slide",children:N.isRTL?r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})}):r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}),renderFullscreenButton:(a,d)=>r("button",{type:"button",className:"image-gallery-icon image-gallery-fullscreen-button",disabled:d,onClick:a,"aria-label":"Previous Slide",children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})})}),originalAlt:e[s()],originalTitle:e[s()],thumbnailLabel:e[s()],thumbnailTitle:e[s()],showThumbnails:!0,useBrowserFullscreen:!0,disableThumbnailScroll:!0,thumbnailClass:"border-2 border-red-900 bg-gray-400",thumbnailPosition:K?"bottom":"right",items:M})]}),t("div",{className:"mx-5 mt-10 sm:px-0 sm:mt-16 lg:mt-0",children:[r("h1",{className:"text-3xl font-extrabold tracking-tight text-gray-900",children:e[s()]}),t("div",{className:"mt-3",children:[r("h2",{className:"sr-only",children:o("information")}),r(R,{price:e.price,salePrice:e.sale_price,showLocal:!0,isOnSale:e.isOnSale,large:!0,free:e.free})]}),e.ratings&&r(Q,{ratings:e.ratings,id:e.id,type:"service"}),t("div",{className:"flex flex-1 flex-col sm:flex-row justify-between items-center",children:[r("div",{className:"flex flex-1",children:e[s("caption")]&&t("div",{className:"mt-6",children:[r("h3",{className:"sr-only",children:o("caption")}),r("div",{className:`${b} space-y-6`,children:e[s("caption")]})]})}),r("div",{className:"flex",children:e.sku&&t("div",{className:"mt-6",children:[r("h3",{className:"sr-only",children:o("sku")}),t("div",{className:`${b} space-y-6`,children:[o("reference_id")," :",e.sku]})]})})]}),t("div",{className:"mt-6",children:[l&&!n.exports.isEmpty(l[s("notes")])&&n.exports.size(l[s("notes")])>5&&r(k,{title:o("timing_notes"),message:l[s("notes")],color:"green"}),e.timings&&e.is_available&&t(g,{as:"div",className:"relative inline-block text-left mb-5 w-full",children:[r("div",{children:t(g.Button,{className:`flex flex-1 justify-between items-center w-full capitalize rounded-md border border-gray-300 shadow-sm px-4 py-2 ${j} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-gray-500`,children:[r("div",{children:n.exports.isEmpty(l)?e.timings.length>0?o("available_timings"):o("no_timings"):h(`${l.date} ${l.start}`).format("dddd : L - HH:mm A")}),r(p.ChevronDownIcon,{className:"h-5 w-5","aria-hidden":"true"})]})}),r(ee,{as:m.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r(g.Items,{className:"z-30 origin-top-right absolute right-0 mt-2 w-full rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none",children:r("div",{className:"py-1",children:n.exports.map(e.timings,a=>r(g.Item,{children:r("div",{onClick:()=>L(a),className:u(a.id===(l==null?void 0:l.id)?"bg-gray-100 text-gray-900":"text-gray-800","block px-4 py-2 text-sm hover:bg-gray-100"),children:t("div",{className:"flex flex-1 flex-col xl:flex-row justify-start items-center text-sm sm:text-lg",children:[t("div",{className:"flex flex-1 flex-col justify-start xl:flex-row xl:w-1/3 items-center",children:[r("span",{className:"flex",children:`${h(a.date).format("dddd")} ${o("equivalent")}`}),r("span",{className:"flex flex-1 justify-start sm:px-2 flex-row",children:`${h(a.date).format(N.isRTL?"Y/MM/DD":"DD/MM/Y")}`})]}),t("div",{className:"flex flex-col xl:flex-row justify-between items-center",children:[r("div",{className:"flex capitalize",children:`${o("from")} ${h(`${a.date} ${a.start}`).format("HH:mm A")}`}),r("div",{className:"flex ltr:ml-2 rtl:mr-2 capitalize",children:`${o("to")} ${h(`${a.date} ${a.end}`).format("HH:mm A")}`})]})]})})},a.id))})})})]}),!e.is_available&&r(k,{title:o("element_is_not_available"),message:o("element_is_not_available_currently_for_order")}),t("div",{className:"flex flex-row justify-between items-center gap-x-5",children:[r("form",{onSubmit:F,className:"flex-grow",children:r("button",{disabled:!e.is_available,type:"submit",className:u(e.is_available?`opacity-100 bg-${i}-600 text-white dark:text-black dark:bg-${i}-400`:"opacity-30",`flex flex-1 bg-${i}-800 dark:bg-${i}-400 border border-transparent rounded-md py-3 px-8 flex items-center justify-center text-base font-medium ${b} hover:bg-${i}-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-${i}-50 focus:ring-${i}-500 sm:w-full`),children:o("add_to_cart")})}),y.enable_favorite&&r("div",{className:"flex-none w-10",children:r(J,{id:e.id,type:"service",favoritesList:x==null?void 0:x.favoritesList})})]})]}),e.is_available&&r(k,{title:o("service_booking"),message:o("service_booking_message")}),t("section",{"aria-labelledby":"details-heading",className:"my-12",children:[r("h2",{id:"details-heading",className:"sr-only",children:"Additional details"}),t("div",{className:"border-t divide-y divide-gray-200 ",children:[!n.exports.isNull(e[s("description")])&&e[s("description")]&&n.exports.size(e[s("description")])>5?r(c,{as:"div",defaultOpen:!0,children:({open:a})=>t(_,{children:[t(c.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:u(a?`text-${i}-900 dark:text-${i}-100`:`text-${i}-600 dark:text-${i}-200`,"capitalize font-extrabold"),children:o("description")}),r("span",{className:"ml-6 flex items-center",children:a?r(p.MinusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p.PlusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(c.Panel,{as:"div",className:"pb-6",children:r("p",{className:`capitalize font-bold text-${i}-800 dark:text-${i}-100`,children:e[s("description")]})})]})}):null,!n.exports.isNull(e[s("notes")])&&n.exports.size(e[s("notes")])>5?r(c,{as:"div",defaultOpen:!1,children:({open:a})=>t(_,{children:[t(c.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:u(a?`text-${i}-900 dark:text-${i}-100`:`text-${i}-600 dark:text-${i}-200`,"capitalize font-extrabold"),children:o("notes")}),r("span",{className:"ml-6 flex items-center",children:a?r(p.MinusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p.PlusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(c.Panel,{as:"div",className:"pb-6",children:r("p",{className:`capitalize font-bold text-${i}-800 dark:text-${i}-100`,children:e[s("notes")]})})]})}):null,r(c,{as:"div",defaultOpen:!1,children:({open:a})=>t(_,{children:[t(c.Button,{className:"group relative w-full py-6 flex justify-between items-center text-left",children:[r("span",{className:u(a?`text-${i}-900 dark:text-${i}-100`:`text-${i}-600 dark:text-${i}-200`,"capitalize font-extrabold"),children:o("owner")}),r("span",{className:"ml-6 flex items-center",children:a?r(p.MinusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"}):r(p.PlusSmIcon,{className:"block h-6 w-6 text-gray-400 group-hover:text-gray-500","aria-hidden":"true"})})]}),r(c.Panel,{as:"div",className:"pb-6 ",children:t("div",{className:"flex flex-row justify-start items-start",children:[r("div",{className:"w-20",children:r("img",{className:"w-20 h-20 rounded-full object-cover shadow-md",src:v(e.user.image),alt:e.user[s()]})}),t("div",{className:"flex-1 rtl:mr-5 ltr:ml-5",children:[t("div",{className:`border-b border-${i}-200 dark:text-${i}-100 mb-2 pb-2`,children:[r("h4",{className:`text-${i}-800 dark:text-${i}-100`,children:e.user[s()]}),r("p",{className:`text-${i}-800 dark:text-${i}-100`,children:e.user[s("caption")]})]}),r("p",{className:`text-sm text-${i}-800 dark:text-${i}-100`,children:e.user[s("description")]})]})]})})]})})]})]}),r(Z,{directPurchase:e.direct_purchase&&y.multi_cart_merchant,sku:e.sku,timings:e.timings})]})]}),r(X,{}),f&&f.meta.total>0&&r(G,{elements:f.data,type:"service",title:o("related_services")})]})})]})}export{Ge as default};
