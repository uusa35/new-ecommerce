import w from"./BackendContainer.14a50d96.js";import{r as x,A as k,G as C,c as F,b as q,u as z,a as e,j as a,l as o,d as j,h as V,D}from"./app.8f41755a.js";import n from"./ToolTipWidget.402995ed.js";import L from"./FormBtns.59c9ecb7.js";import{p as T}from"./pluralize.a87e66d1.js";import"./SideBar.511b97bc.js";import"./FiCircle.c9b8b928.js";import"./transition.a7dac45d.js";import"./open-closed.0d489d91.js";import"./dialog.d76c2d8b.js";import"./use-owner.dcb13aec.js";import"./use-event-listener.cd17cf37.js";import"./menu.b1c0e94d.js";import"./use-resolve-button-type.fe2d668c.js";import"./BackendHeader.a041d251.js";import"./index.esm.968e8465.js";import"./Footer.2cad62e5.js";import"./BreadCrumbs.ce32cd7c.js";import"./SearchField.46d947e0.js";import"./Pagination.cd5c230b.js";import"./NoElements.fe12762f.js";import"./index.74c4741c.js";import"./SystemMessage.0606d8b1.js";import"./ConfirmationModal.5397c6b8.js";function se({privilege:l,pivotElements:f}){const{trans:t,getLocalized:h,getThumb:N}=x.exports.useContext(k),y=x.exports.useContext(C),{errors:i}=F().props,_=q(),{data:u,setData:p,put:B,progress:E}=z({name:l.name,name_ar:l.name_ar,name_en:l.name_en,image:l.image,order:l.order,description_ar:l.description_ar,description_en:l.description_en,main_menu:l.main_menu,on_top:l.on_top,hide_module:l.hide_module,attributes:f}),d=r=>{p(s=>({...s,[r.target.id]:r.target.value}))},b=r=>{r.preventDefault(),j.Inertia.post(V("backend.privilege.update",l.id),{_method:"put",...u,image:u.image},{forceFormData:!0,onSuccess:({props:s})=>{var g;if(y.auth=s.auth,!o.exports.isEmpty(s.auth&&((g=s.auth.role)==null?void 0:g.privileges))){const v=o.exports.map(s.auth.role.privileges,c=>({name:c.name_en,index:c.index,create:c.create,main_menu:c.main_menu,on_top:c.on_top,hide_module:c.hide_module,image:c.image}));_(D(v))}}})},m=r=>{const s=o.exports.uniqBy([r,...u.attributes],"role_id");p("attributes",s)};return e(w,{children:e("div",{className:"flex flex-col bg-white shadow-md rounded-md",children:a("form",{onSubmit:b,method:"post",encType:"multipart/form-data",className:"w-full px-10 space-y-3 mb-6",children:[a("div",{className:"space-y-4 divide-y 900",children:[a("div",{className:"pt-4",children:[a("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[t("edit")," ",t("role")]}),a("p",{className:"mt-1 text-sm text-gray-500",children:[t("edit")," ",t("role")]})]}),a("div",{className:"pt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-6",children:[a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"name_ar",className:"block   text-gray-800",children:t("name")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"text",name:"name",defaultValue:l.name,id:"name",autoComplete:"name",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("name_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.name&&e("div",{className:"text-red-900",children:i.name})})]}),a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"name_ar",className:"block   text-gray-800",children:t("name_ar")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"text",name:"name_ar",maxLength:100,defaultValue:l.name_ar,id:"name_ar",autoComplete:"name_ar",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("name_ar_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.name_ar&&e("div",{className:"text-red-900",children:i.name_ar})})]}),a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"name_en",className:"block   text-gray-800",children:t("name_en")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"text",name:"name_en",maxLength:100,defaultValue:l.name_en,id:"name_en",autoComplete:"name_en",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("name_en_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.name_en&&e("div",{className:"text-red-900",children:i.name_en})})]}),a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"description_ar",className:"block   text-gray-800",children:t("description_ar")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"text",name:"description_ar",maxLength:200,defaultValue:l.description_ar,id:"description_ar",autoComplete:"description_ar",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("description_ar")}),e("p",{className:"mt-2  text-gray-500",children:i.description_ar&&e("div",{className:"text-red-900",children:i.description_ar})})]}),a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"description_en",className:"block   text-gray-800",children:t("description_en")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"text",name:"description_en",maxLength:200,defaultValue:l.description_en,id:"description_en",autoComplete:"description_en",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("description_en_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.description_en&&e("div",{className:"text-red-900",children:i.description_en})})]}),a("div",{className:"sm:col-span-2",children:[e("label",{htmlFor:"order",className:"block   text-gray-800",children:t("sequance")}),e("div",{className:"mt-1",children:e("input",{onChange:d,required:!0,type:"number",max:99,name:"order",defaultValue:l.order,id:"order",autoComplete:"order",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"})}),e(n,{message:t("order_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.order&&e("div",{className:"text-red-900",children:i.order})})]}),a("div",{className:"sm:col-span-full has-tooltip mt-5",children:[e("label",{htmlFor:"main_image",className:"block   text-gray-800",children:t("main_image")}),a("div",{className:"mt-1 flex flex-row flex-1 items-center h-32",children:[e("input",{onChange:r=>p("image",r.target.files[0]),type:"file",name:"image",id:"main_image",accept:"image/jpg, image/jpeg , image/png",autoComplete:"main_image",className:"focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"}),l.image&&e("img",{className:"h-24 w-20 bg-cover rounded-md",src:N(l.image),alt:l[h()]})]}),e(n,{message:t("product_main_image_instruction")}),e("p",{className:" text-red-500 rtl:text-left ltr:text-right",children:t("square_best_fit")}),e("p",{className:"mt-2  text-gray-500",children:i.image&&e("div",{className:"text-red-900",children:i.image})})]})]}),a("div",{className:"pt-4",children:[a("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:[t("attributes")," ",t("privilege")," ",T(t(l[h()]))]}),e("p",{className:"mt-1 text-sm text-gray-500",children:t("attributes")})]}),a("div",{className:"pt-6 grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-4",children:[o.exports.map(l.roles,r=>a("div",{className:"sm:col-span-full has-tooltip mt-4 border-b border-gray-300",children:[e("label",{htmlFor:"categories",className:"block   text-gray-800",children:r[h()]}),e("div",{children:a("div",{className:"flex flex-row flex-1 justify-between items-center space-x-2",children:[e("fieldset",{className:"space-y-5",children:e("div",{className:"flex flex-row flex-wrap",children:e("div",{className:"flex flex-col flex-1 space-y-4 mt-4 flex-wrap p-2",children:a("div",{className:"relative flex items-start",children:[e("div",{className:"flex items-center h-5 rtl:ml-4 ltr:mr-4",children:e("input",{onChange:s=>m({role_id:r.id,index:s.target.checked}),id:"index","aria-describedby":"privileges-description",name:"index",value:1,defaultChecked:r.pivot.index,type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e("div",{className:"ltr:ml-3 ",children:e("label",{htmlFor:"privileges",className:"font-extrabold text-gray-900 capitalize",children:"index"})})]})},r.role_id)})}),e("fieldset",{className:"space-y-5",children:e("div",{className:"flex flex-row flex-wrap",children:e("div",{className:"flex flex-col flex-1 space-y-4 mt-4 flex-wrap p-2",children:a("div",{className:"relative flex items-start",children:[e("div",{className:"flex items-center h-5 rtl:ml-4 ltr:mr-4",children:e("input",{onChange:s=>m({role_id:r.id,view:s.target.checked}),id:"view","aria-describedby":"privileges-description",name:"view",value:1,defaultChecked:r.pivot.view,type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e("div",{className:"ltr:ml-3 ",children:e("label",{htmlFor:"privileges",className:"font-extrabold text-gray-900 capitalize",children:"view"})})]})})})}),e("fieldset",{className:"space-y-5",children:e("div",{className:"flex flex-row flex-wrap",children:e("div",{className:"flex flex-col flex-1 space-y-4 mt-4 flex-wrap p-2",children:a("div",{className:"relative flex items-start",children:[e("div",{className:"flex items-center h-5 rtl:ml-4 ltr:mr-4",children:e("input",{onChange:s=>m({role_id:r.id,create:s.target.checked}),id:"create","aria-describedby":"privileges-description",name:"create",value:1,defaultChecked:r.pivot.create,type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e("div",{className:"ltr:ml-3 ",children:e("label",{htmlFor:"privileges",className:"font-extrabold text-gray-900 capitalize",children:"create"})})]})})})}),e("fieldset",{className:"space-y-5",children:e("div",{className:"flex flex-row flex-wrap",children:e("div",{className:"flex flex-col flex-1 space-y-4 mt-4 flex-wrap p-2",children:a("div",{className:"relative flex items-start",children:[e("div",{className:"flex items-center h-5 rtl:ml-4 ltr:mr-4",children:e("input",{onChange:s=>m({role_id:r.id,update:s.target.checked}),id:"update","aria-describedby":"privileges-description",name:"update",value:1,defaultChecked:r.pivot.update,type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e("div",{className:"ltr:ml-3 ",children:e("label",{htmlFor:"privileges",className:"font-extrabold text-gray-900 capitalize",children:"update"})})]})})})}),e("fieldset",{className:"space-y-5",children:e("div",{className:"flex flex-row flex-wrap",children:e("div",{className:"flex flex-col flex-1 space-y-4 mt-4 flex-wrap p-2",children:a("div",{className:"relative flex items-start",children:[e("div",{className:"flex items-center h-5 rtl:ml-4 ltr:mr-4",children:e("input",{onChange:s=>m({...r.pivot,privilege_id:l.id,role_id:r.id,delete:s.target.checked}),id:"delete","aria-describedby":"privileges-description",name:"delete",value:1,defaultChecked:r.pivot.delete,type:"checkbox",className:"focus:ring-indigo-500 h-4 w-4 text-indigo-600 border-gray-300 rounded"})}),e("div",{className:"ltr:ml-3 ",children:e("label",{htmlFor:"privileges",className:"font-extrabold text-gray-900 capitalize",children:"delete"})})]})})})})]})}),e(n,{message:t("product_categories_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.attributes&&e("div",{className:"text-red-900",children:i.attributes})})]},r.pivot.privilage_id)),a("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:t("main_menu")})}),a("div",{className:"mt-4 space-y-4",children:[a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"main_menu",name:"main_menu",type:"radio",value:1,defaultChecked:l.main_menu,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"main_menu",className:"ml-3 block   text-gray-800",children:t("yes")})]}),a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"main_menu",name:"main_menu",type:"radio",value:0,defaultChecked:!l.main_menu,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"main_menu",className:"ml-3 block   text-gray-800",children:t("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:i.main_menu&&e("div",{className:"text-red-900",children:i.main_menu})})})]}),a("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:t("on_top")})}),a("div",{className:"mt-4 space-y-4",children:[a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"on_top",name:"on_top",type:"radio",value:1,defaultChecked:l.on_top,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"on_top",className:"ml-3 block   text-gray-800",children:t("yes")})]}),a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"on_top",name:"on_top",type:"radio",value:0,defaultChecked:!l.on_top,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"on_top",className:"ml-3 block   text-gray-800",children:t("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:i.on_top&&e("div",{className:"text-red-900",children:i.on_top})})})]}),a("fieldset",{className:"mt-1 col-span-1",children:[e("div",{children:e("legend",{className:"text-base  text-gray-900",children:t("hide_module")})}),a("div",{className:"mt-4 space-y-4",children:[a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"hide_module",name:"hide_module",type:"radio",value:1,defaultChecked:l.hide_module,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"hide_module",className:"ml-3 block   text-gray-800",children:t("yes")})]}),a("div",{className:"flex items-center",children:[e("input",{onChange:d,id:"hide_module",name:"hide_module",type:"radio",value:0,defaultChecked:!l.hide_module,className:"mx-5 focus:ring-gray-500 h-4 w-4 text-gray-600 border-gray-300"}),e("label",{htmlFor:"hide_module",className:"ml-3 block   text-gray-800",children:t("no")})]})]}),e(n,{}),e("div",{children:e("p",{className:"mt-2  text-gray-500",children:i.hide_module&&e("div",{className:"text-red-900",children:i.hide_module})})})]})]})]}),e(L,{type:"role"})]})})})}export{se as default};
