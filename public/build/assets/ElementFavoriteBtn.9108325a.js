import{F as h}from"./FiCircle.c9b8b928.js";import{r,A as y,u as _,l as e,a as i,j as b,h as g,d as F,a2 as C}from"./app.8f41755a.js";function E({type:n,id:l,favoritesList:s}){const{trans:p,guest:u}=r.exports.useContext(y),[a,d]=r.exports.useState(!1),[j,c]=r.exports.useState(),{data:S,setData:w,post:f,progress:N}=_({model:n,element_id:l}),m=o=>{o.preventDefault(),u?C.error(e.exports.capitalize(p("u_have_to_register_first"))):(d(!a),f(g("frontend.favorite.store"),{onSuccess:()=>{F.Inertia.reload({only:["auth"]})}}))};return r.exports.useMemo(()=>{if(!u&&!e.exports.isEmpty(s)){const o=e.exports.map(s,t=>({type:e.exports.lowerCase(e.exports.last(e.exports.split(t.favoritable_type,"\\"))),favoritable_id:t.favoritable_id})),v=e.exports.filter(o,t=>t.type===n),x=e.exports.map(v,t=>t.favoritable_id);c(x),d(e.exports.includes(x,l))}},[s,a]),i("form",{onSubmit:m,children:b("button",{type:"submit",className:"flex py-3 px-3 rounded-full flex items-center justify-center text-gray-100 hover:bg-gray-100 hover:text-gray-500 bg-gray-50",children:[i(h,{fill:a?"red":"white",className:"h-6 w-6 flex-shrink-0 text-red-900","aria-hidden":"true"}),i("span",{className:"sr-only",children:p("add_to_favorite")})]})})}export{E as default};
