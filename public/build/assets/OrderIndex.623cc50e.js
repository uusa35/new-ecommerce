import{r as c,i as p,A as j,e as _,b as B,l as W,a as e,j as r,L as d,h as a,y as w,F as g,v as z}from"./app.8f41755a.js";import I from"./BackendContainer.14a50d96.js";import{F as f}from"./FiCircle.c9b8b928.js";import D from"./ActiveDot.05a9772a.js";import b from"./ToolTipWidget.402995ed.js";import{getWhatsappLink as A}from"./helpers.b999fcd4.js";import{q as s}from"./menu.b1c0e94d.js";import{W as F}from"./transition.a7dac45d.js";import"./SideBar.511b97bc.js";import"./pluralize.a87e66d1.js";import"./dialog.d76c2d8b.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-event-listener.cd17cf37.js";import"./use-resolve-button-type.fe2d668c.js";import"./BackendHeader.a041d251.js";import"./index.esm.968e8465.js";import"./Footer.2cad62e5.js";import"./BreadCrumbs.ce32cd7c.js";import"./SearchField.46d947e0.js";import"./Pagination.cd5c230b.js";import"./NoElements.fe12762f.js";import"./index.74c4741c.js";import"./SystemMessage.0606d8b1.js";import"./ConfirmationModal.5397c6b8.js";function ie({elements:n}){const[x,u]=c.exports.useState(),[v,y]=c.exports.useState(p().format("DD-MM-Y")),{trans:t,classNames:i,getLocalized:k,isAdminOrAbove:N,isSuper:M}=c.exports.useContext(j),{sort:h,locale:L}=_(l=>l),m=B();return c.exports.useMemo(()=>{x||u(n.data)},[n.data]),c.exports.useMemo(()=>{u(W.exports.orderBy(n.data,[h.colName],[h.desc?"desc":"asc"]))},[h.desc]),e(I,{elements:n,showSearch:n.meta.total>=1,showNoElements:n.meta.total<1,showMobileView:n.meta.total>1,total:n.meta.total,links:n.meta.links,mainModule:"order",children:e("div",{className:"flex flex-col",children:e("div",{className:"overflow-visible ",children:r("div",{className:"align-middle inline-block min-w-full rounded-b-lg",children:[r("div",{className:"flex items-center justify-evenly py-2 bg-white rounded-sm shadow-sm mb-3",children:[r("div",{className:"sm:col-span-2 has-tooltip mb-5",children:[e("label",{htmlFor:"start_sale",className:"block   text-gray-800",children:t("from_till_current_date")}),r("div",{className:"mt-1 flex flex-row",children:[e("input",{onChange:l=>y(p(l.target.value).format("DD-MM-Y")),type:"date",step:"any",name:"current_date",id:"current_date",autoComplete:"current_date",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full border-gray-300 rounded-md"}),e(d,{className:"border border-gray-400 bg-gray-200 rounded-md shadow-md p-3 mx-2",href:a("backend.order.index",{created_at:v}),children:t("search")}),e(d,{className:"border border-gray-400 bg-red-600 text-white rounded-md shadow-md p-3 mx-2",href:a("backend.order.index",{}),children:t("remove")})]})]}),e(d,{className:"border border-gray-400 rounded-sm shadow-md p-3",href:a("backend.order.index",{...a().params,paid:!0}),children:t("paid_orders")}),e(d,{className:"border border-gray-400 rounded-sm shadow-md p-3",href:a("backend.order.index",{...a().params,paid:!1}),children:t("unpaid_orders")})]}),e("div",{className:"bg-gray-300 shadow border-b overflow-visible border-gray-200 sm:rounded-lg",children:r("table",{className:"min-w-full border-collapse block md:table",children:[e("thead",{className:"block md:table-header-group",children:r("tr",{className:"border border-grey-500 md:border-none block md:table-row absolute -top-full md:top-auto -left-full md:left-auto  md:relative ",children:[e("th",{scope:"col",className:"block md:table-cell px-3 py-3  rtl:text-right ltr:text-left  uppercase tracking-wider tracking-wider",onClick:c.exports.useCallback(()=>m(w("id"))),children:r("div",{className:"flex flex-row",children:[h.desc?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),e("div",{children:t("id")})]})}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3  rtl:text-right ltr:text-left",onClick:c.exports.useCallback(()=>m(w("name"))),children:r("div",{className:"flex flex-row",children:[h.desc?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),t("name")]})}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3 rtl:text-right ltr:text-left",children:t("user")}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3 rtl:text-right ltr:text-left",children:t("commands")}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3  rtl:text-right ltr:text-left",onClick:c.exports.useCallback(()=>m(w("price"))),children:r("div",{className:"flex flex-row",children:[h.desc?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),t("price")]})}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3 rtl:text-right ltr:text-left",children:r("div",{className:"flex flex-row justify-between items-center",children:[e("div",{className:"flex",children:t("created_at")}),r("div",{className:"flex items-center justify-center",children:[r("a",{className:"pl-3 has-tooltip",href:a("backend.order.export",{...a().params,fileType:"pdf"}),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e(f,{className:"hover:text-red-900"})}),e(b,{message:t("pdf")})]}),r("a",{className:"pl-3 has-tooltip",href:a("backend.order.export",{...a().params,fileType:"xlsx"}),children:[e(f,{className:"hover:text-red-900"}),e(b,{message:t("excel")})]})]})]})})]})}),e("tbody",{className:"block md:table-row-group",children:x&&x.map(l=>r("tr",{className:"block md:table-row bg-white border-b border-gray-100 text-gray-500 odd:bg-white even:bg-gray-100",children:[e("td",{className:" block md:table-cell px-3 py-4 whitespace-nowrap font-medium text-gray-900",children:l.id}),r("td",{className:"block md:table-cell whitespace-nowrap  text-gray-500 flex flex-col flex-1",children:[r("div",{className:"flex items-center space-x-3 lg:pl-2",children:[e(D,{active:l.paid}),t("order_no")," ",l.id]}),r("div",{className:"flex flex-1 flex-row justify-between space-x-3 mt-2 items-center",children:[e("div",{className:"inline-flex items-center px-2 py-0.5 rounded  font-medium bg-gray-900 text-white",children:t(l.status)}),e("div",{className:i(l.paid?"bg-green-900":"bg-red-900","inline-flex items-center px-2 py-0.5 rounded  font-medium  text-white"),children:t(l.paid?"paid":"unpaid")})]})]}),e("td",{className:"block md:table-cell whitespace-nowrap  text-gray-500",children:r("div",{className:"flex flex-col",children:[e("div",{className:"flex",children:l.user[k()]}),r("div",{className:"flex",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),":"," ",e("a",{target:"_blank",href:`${A(l.user.mobile)}`,children:l.user.mobile})]}),r("div",{className:"flex",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 4H6a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-2m-4-1v8m0 0l3-3m-3 3L9 8m-5 5h2.586a1 1 0 01.707.293l2.414 2.414a1 1 0 00.707.293h3.172a1 1 0 00.707-.293l2.414-2.414a1 1 0 01.707-.293H20"})}),e("a",{target:"_blank",href:`mailto:${l.user.email}`,children:l.user.email})]})]})}),e("td",{className:" block md:table-cell px-6 py-4 whitespace-nowrap text-right  font-medium",children:e("div",{className:"relative flex justify-center items-center rounded-full shadow-md w-12 h-12",children:e(s,{as:"div",className:"abflex-shrink-0 z-60",children:({open:C})=>r(g,{children:[r(s.Button,{className:"w-8 h-8 bg-white inline-flex items-center justify-center text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e("span",{className:"sr-only",children:"Open options"}),e(f,{className:"w-5 h-5","aria-hidden":"true"})]}),e(F,{show:C,as:c.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r(s.Items,{static:!0,className:i(L.isRTL?"right-10":"left-10","z-40 mx-3 origin-top-right absolute top-0 w-48 mt-1 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 divide-y divide-gray-200 focus:outline-none"),children:[e("div",{className:"py-1",children:e(s.Item,{children:({active:o})=>r("a",{target:"_blank",href:a("backend.invoice.pdf",l.id),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),t("show")," ",t("invoice")]})})}),e("div",{className:"py-1",children:e(s.Item,{children:({active:o})=>r("a",{href:a("backend.invoice.pdf.download",l.id),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),t("download")," ",t("invoice")]})})}),N&&r(g,{children:[e("div",{className:"py-1",children:e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.show",l.id),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"})}),t("show")," ",t("order")]})})}),r("div",{className:"py-1",children:[e(s.Item,{children:({active:o})=>r(d,{href:"#",className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("change_order_status_to")]})}),e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.switch",{status:"pending",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("pending")]})}),e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.switch",{status:"under_process",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("under_process")]})}),e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.switch",{status:"delivered",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("delivered")]})}),e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.switch",{status:"completed",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("completed")]})}),M&&!l.paid&&e(s.Item,{children:({active:o})=>e(g,{children:r(d,{href:a("backend.order.switch",{status:"paid",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2",children:[e("path",{d:"M12 14l9-5-9-5-9 5 9 5z"}),e("path",{d:"M12 14l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 14l9-5-9-5-9 5 9 5zm0 0l6.16-3.422a12.083 12.083 0 01.665 6.479A11.952 11.952 0 0012 20.055a11.952 11.952 0 00-6.824-2.998 12.078 12.078 0 01.665-6.479L12 14zm-4 6v-7.5l4-2.222"})]}),t("change_to_paid")]})})}),e(s.Item,{children:({active:o})=>r(d,{href:a("backend.order.switch",{status:"canceled",order_id:l.id}),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122"})}),t("canceled")]})})]}),e("div",{className:"py-1",children:e(s.Item,{children:({active:o})=>r("button",{onClick:()=>m(z({type:"destroy",model:"order",id:l.id,title:`${t("destroy")} ${t("order")}`,message:`${t("confirmation")} ${t("destroy")} ${t("order")}`})),className:i(o?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 w-full flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right text-red-700"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),t("delete")]})})})]})]})})]})})},l[k("name")])}),r("td",{className:"block md:table-cell whitespace-nowrap  text-gray-500",children:[l.net_price," ",t("kd")]}),e("td",{className:"block md:table-cell whitespace-nowrap  text-gray-500",children:p(l.created_at).format("Y-MM-DD")})]},l.id))})]})})]})})})})}export{ie as default};
