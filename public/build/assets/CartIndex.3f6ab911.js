import $ from"./FrontendContainer.f87df6a5.js";import{e as F,r as c,A as L,c as j,u as E,b as M,a3 as S,a4 as u,l as n,a as e,j as l,L as x,h}from"./app.8f41755a.js";import I from"./NoElements.fe12762f.js";import R from"./CartStepper.0e2a0f63.js";import B from"./CartIndexOrderSummary.222fd040.js";import D from"./FrontendContentContainer.e2e5b70a.js";import G from"./OrderSummary.7075809a.js";import"./index.74c4741c.js";import"./MainNav.20d61781.js";import"./index.esm.968e8465.js";import"./index.esm.c2914463.js";import"./helpers.b999fcd4.js";import"./SearchField.46d947e0.js";import"./pluralize.a87e66d1.js";import"./MainNavBookCategoriesList.378062f1.js";import"./popover.4efe15a7.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-resolve-button-type.fe2d668c.js";import"./use-event-listener.cd17cf37.js";import"./motion.5c4d7eb2.js";import"./tabs.59b69d47.js";import"./transition.a7dac45d.js";import"./dialog.d76c2d8b.js";import"./menu.b1c0e94d.js";import"./lib.3666cbba.js";import"./MetaElement.15b324ae.js";/* empty css                   */import"./SystemMessage.0606d8b1.js";import"./FrontendBreadCrumbs.bfadd15b.js";import"./AlertMessage.0840591f.js";function ge({coupon:m={},settings:r,auth:o}){const{cart:t,locale:f}=F(a=>a),{trans:i,classNames:y,mainColor:s,contentBgColor:g,btnClass:b,textColor:w}=c.exports.useContext(L);j();const{data:d,setData:C,put:H,post:_,progress:T,reset:z}=E({code:null}),p=M(),v=a=>{C(k=>({...k,[a.target.id]:a.target.value}))},N=a=>{a.preventDefault(),_(h("frontend.cart.coupon"),{...d})};return c.exports.useMemo(()=>{m&&m.id&&p(S(m))},[m]),c.exports.useMemo(()=>{parseFloat(t.netTotal)||p(u({multiCartMerchant:r.multi_cart_merchant,applyGlobalShipment:r.apply_global_shipment,shipmentCountry:o&&o.country&&n.exports.isEmpty(t.shipmentCountry)?o.country:t.shipmentCountry,shipmentFees:r.apply_global_shipment?r.shipment_fixed_rate:t.shipmentFees}))},[]),c.exports.useEffect(()=>(p(u({multiCartMerchant:r.multi_cart_merchant,applyGlobalShipment:r.apply_global_shipment,shipmentCountry:o&&o.country&&n.exports.isEmpty(t.shipmentCountry)?o.country:t.shipmentCountry,shipmentFees:r.apply_global_shipment?r.shipment_fixed_rate:t.shipmentFees})),()=>{p(u({multiCartMerchant:r.multi_cart_merchant,applyGlobalShipment:r.apply_global_shipment,shipmentCountry:o&&o.country&&n.exports.isEmpty(t.shipmentCountry)?o.country:t.shipmentCountry,shipmentFees:r.apply_global_shipment?r.shipment_fixed_rate:t.shipmentFees}))}),[]),e($,{children:e(D,{children:l("div",{className:`${g} w-full mx-auto py-5 px-4 sm:px-6 lg:px-8 `,children:[e(R,{}),e("h1",{className:`text-3xl font-bold py-5 text-${s}-900 dark:text-${s}-50`,children:i("cart")}),e(B,{}),e(I,{display:n.exports.isEmpty(t.items)}),n.exports.isEmpty(t.items)?null:e("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:e("div",{className:`border-${s}-100 dark:border-${s}-800 border  py-8 px-4 shadow sm:rounded-lg sm:px-10`,children:l("form",{className:"space-y-6",onSubmit:N,children:[l("div",{children:[e("label",{htmlFor:"code",className:`${w} block text-sm font-medium mb-5 text-base`,children:i("do_u_have_a_coupon")}),e("div",{className:"mt-1",children:e("input",{id:"code",name:"code",type:"code",autoComplete:"code",onChange:v,required:!0,className:`appearance-none block w-full px-3 py-2 border border-${s}-300 rounded-md shadow-sm placeholder-${s}-600 text-${s}-900 focus:outline-none focus:ring-gray-500 focus:border-gray-500 sm:text-sm`})})]}),e("div",{children:e("button",{disabled:n.exports.isNull(d.coupon)&&d.coupon.length<3,type:"submit",className:`${b} w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500`,children:i("enter_coupon_code")})})]})})}),e(G,{}),e("div",{className:"mt-10 flex justify-end",children:l(x,{href:n.exports.isEmpty(t.items)?"#":h("frontend.cart.information",{totalItems:t.totalItems,cartId:t.cartId}),className:y(n.exports.isEmpty(t.items)?"opacity-30":`bg-${s}-600 dark:bg-${s}-400`,"flex flex-row justify-between items-center border border-transparent rounded-md shnotesadow-sm py-3 px-4 text-base font-medium text-white hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-50 focus:ring-gray-500"),children:[e("span",{className:"flex ",children:i("next")}),e("div",{className:"flex",children:f.isRTL?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 19l-7-7 7-7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})})]})}),e("div",{className:"mt-6  text-center text-gray-500",children:e("p",{children:l(x,{href:h("frontend.home"),className:"flex flex-row gap-x-5 items-center justify-center text-gray-600 font-medium hover:text-gray-500",children:[i("continue_shopping"),f.isRTL?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})})})]})})})}export{ge as default};
