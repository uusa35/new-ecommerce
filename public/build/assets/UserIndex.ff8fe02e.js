import{r as n,A as L,e as j,b as C,l as u,a as e,j as r,L as d,h as l,y as v,F as M,v as W,i as _}from"./app.8f41755a.js";import B from"./BackendContainer.14a50d96.js";import{F as H}from"./FiCircle.c9b8b928.js";import z from"./ActiveDot.05a9772a.js";import g from"./ToolTipWidget.402995ed.js";import{d as I}from"./TableView.be88749b.js";import{p as F}from"./pluralize.a87e66d1.js";import{getWhatsappLink as V}from"./helpers.b999fcd4.js";import{F as A,a as T}from"./index.esm.c2914463.js";import{q as o}from"./menu.b1c0e94d.js";import{W as $}from"./transition.a7dac45d.js";import"./SideBar.511b97bc.js";import"./dialog.d76c2d8b.js";import"./open-closed.0d489d91.js";import"./use-owner.dcb13aec.js";import"./use-event-listener.cd17cf37.js";import"./use-resolve-button-type.fe2d668c.js";import"./BackendHeader.a041d251.js";import"./index.esm.968e8465.js";import"./Footer.2cad62e5.js";import"./BreadCrumbs.ce32cd7c.js";import"./SearchField.46d947e0.js";import"./Pagination.cd5c230b.js";import"./NoElements.fe12762f.js";import"./index.74c4741c.js";import"./SystemMessage.0606d8b1.js";import"./ConfirmationModal.5397c6b8.js";import"@mui/material/utils";function pe({elements:i,roles:b}){const[p,w]=n.exports.useState(),{trans:a,classNames:c,getLocalized:h,isAdminOrAbove:f,getThumb:k}=n.exports.useContext(L),{sort:m,locale:y}=j(t=>t),x=C();return n.exports.useMemo(()=>{p||w(i.data)},[i.data]),n.exports.useMemo(()=>{w(u.exports.orderBy(i.data,[m.colName],[m.desc?"desc":"asc"]))},[m.desc]),e(B,{elements:i,showSearch:i.meta.total>=1,showNoElements:i.meta.total<1,showMobileView:i.meta.total>1,total:i.meta.total,links:i.meta.links,mainModule:"user",children:e("div",{className:"flex flex-col",children:e("div",{className:"overflow-visible ",children:r("div",{className:"align-middle inline-block min-w-full rounded-b-lg",children:[r("div",{className:"flex items-center gap-x-4 justify-end  py-2 bg-white rounded-sm shadow-sm mb-3 px-10",children:[r("h6",{children:[a("filtering")," : "]}),b.map(t=>e(d,{className:"border border-gray-400 rounded-md shadow-md p-3",href:l("backend.user.index",{...l().params,role_id:t.id}),children:F(t[h()])})),r(d,{className:"border border-gray-600 rounded-md shadow-md p-3",href:l("backend.user.index"),children:[a("all")," ",a("all_registered_users")]})]}),e("div",{className:"bg-gray-300 shadow border-b overflow-visible border-gray-200 sm:rounded-lg",children:r("table",{className:"min-w-full border-collapse block md:table",children:[e("thead",{className:"block md:table-header-group",children:r("tr",{className:"border border-grey-500 md:border-none block md:table-row absolute -top-full md:top-auto -left-full md:left-auto  md:relative ",children:[e("th",{scope:"col",className:"block md:table-cell px-3 py-3  rtl:text-right ltr:text-left  uppercase tracking-wider tracking-wider",onClick:n.exports.useCallback(()=>x(v("id"))),children:r("div",{className:"flex flex-row",children:[m.desc?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),e("div",{children:a("id")})]})}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3  rtl:text-right ltr:text-left",onClick:n.exports.useCallback(()=>x(v("name"))),children:r("div",{className:"flex flex-row",children:[m.desc?e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 15l7-7 7 7"})}):e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinejoin:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})}),a("name")]})}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3 rtl:text-right ltr:text-left",children:a("commands")}),e("th",{scope:"col",className:" block md:table-cell px-3 py-3 rtl:text-right ltr:text-left",children:r("div",{className:"flex flex-row justify-between items-center",children:[e("div",{className:"flex",children:a("created_at")}),r("div",{className:"flex items-center justify-center",children:[r("a",{className:"pl-3 has-tooltip",title:a("pdf"),href:l("backend.user.export",{...l().params,fileType:"pdf"}),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e(H,{className:"hover:text-red-900"})}),e(g,{message:a("pdf")})]}),r("a",{className:"pl-3 has-tooltip",title:a("xlsx"),href:l("backend.user.export",{...l().params,fileType:"xlsx"}),children:[e(I,{className:"hover:text-red-900"}),e(g,{message:a("xlsx")})]}),f&&r(d,{className:"pl-3 has-tooltip",href:l("backend.import.user.create",{model:"user"}),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 hover:text-red-900",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e(g,{message:a("import")})]})]})]})})]})}),e("tbody",{className:"block md:table-row-group",children:p&&u.exports.map(p,t=>r("tr",{className:"block md:table-row bg-white border-b border-gray-100 text-gray-500 odd:bg-white even:bg-gray-100",children:[e("td",{className:" block md:table-cell px-3 py-4 whitespace-nowrap font-medium text-gray-900",children:t.id}),e("td",{className:"block md:table-cell px-3 py-4 whitespace-nowrap text-gray-800",children:e("div",{className:"flex flex-col",children:r("div",{className:"flex flex-row items-center space-x-3 lg:pl-2",children:[e("img",{src:k(t.image?t.image:"square.png"),className:"w-20 h-20 object-cover ltr:pr-5 rtl:pl-5 rounded-sm "}),e(z,{active:t.active}),r("div",{className:"flex flex-col",children:[e("div",{className:"flex mb-2 font-bold",children:t[h()]}),t.mobile&&r("div",{className:"flex",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),":"," ",t.mobile]}),t.whatsapp&&r("div",{className:"flex",children:[e(A,{className:"h-4 w-4 mx-2"}),":"," ",e("a",{target:"_blank",href:`${V(t.whatsapp)}`,children:t.whatsapp})]}),r("div",{className:"flex",children:[e(T,{className:"h-4 w-4 mx-2"}),e("a",{target:"_blank",href:`mailto:${t.email}`,children:t.email})]}),e("div",{className:"flex justify-center items-center w-20 bg-gray-200 border border-gray-400 p-1 px-2 rounded-sm mt-2",children:t.role[h()]})]})]})})}),e("td",{className:" px-6 py-4 whitespace-nowrap text-right  font-medium",children:e("div",{className:"relative flex justify-center items-center rounded-full shadow-md w-12 h-12",children:e(o,{as:"div",className:"abflex-shrink-0 z-60",children:({open:N})=>r(M,{children:[r(o.Button,{className:"w-8 h-8 bg-white inline-flex items-center justify-center text-gray-400 rounded-full hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:[e("span",{className:"sr-only",children:"Open options"}),e(DotsVerticalIcon,{className:"w-5 h-5","aria-hidden":"true"})]}),e($,{show:N,as:n.exports.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:r(o.Items,{static:!0,className:c(y.isRTL?"right-10":"left-10","z-40 mx-3 origin-top-right absolute top-0 w-48 mt-1 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 divide-y divide-gray-200 focus:outline-none"),children:[r("div",{className:"py-1",children:[e(o.Item,{children:({active:s})=>r(d,{href:l("backend.user.edit",t.id),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),a("edit")," ",a("user")]})}),f&&e(o.Item,{children:({active:s})=>r(d,{href:l("backend.reset.password",{id:t.id}),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),a("reset_password")]})}),e(o.Item,{children:({active:s})=>r(d,{href:l("backend.slide.search",{slidable_id:t.id,slidable_type:"user"}),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a("list")," ",a("slides")]})}),e(o.Item,{children:({active:s})=>r(d,{href:l("backend.slide.create",{slidable_id:t.id,slidable_type:"user"}),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"})}),a("create")," ",a("slide")]})})]}),r("div",{className:"py-1",children:[e(o.Item,{children:({active:s})=>r(d,{href:l("backend.toggle.activate",{model:"user",id:t.id}),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),a("activate_or_deactivate")]})}),e(o.Item,{children:({active:s})=>r(d,{href:l("backend.make.verified",{id:t.id}),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"})}),e("span",{className:"text-xs",children:a("make_email_verified")})]})})]}),e("div",{className:"py-1",children:e(o.Item,{children:({active:s})=>r("button",{onClick:()=>x(W({type:"destroy",model:"user",id:t.id,title:`${a("destroy")} ${a("user")}`,message:`${a("confirmation")} ${a("destroy")} ${a("user")}`})),className:c(s?"bg-gray-100 text-gray-900":"text-gray-800","flex flex-1 w-full flex-row items-center block px-4 py-2  ltr:text-left rtl:text-right text-red-700"),children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mx-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),a("delete")]})})})]})})]})})},t[h("name")])}),e("td",{className:"block md:table-cell whitespace-nowrap text-gray-500",children:_(t.created_at).format("l")})]},t.id))})]})})]})})})})}export{pe as default};
