import F from"./BackendContainer.14a50d96.js";import{e as w,r as u,A as k,b as T,c as D,u as A,w as j,l as M,a as e,j as o,h as $,F as f}from"./app.8f41755a.js";import S from"./FormTabsContainer.abbaef42.js";import l from"./ToolTipWidget.402995ed.js";import q from"./FormBtns.59c9ecb7.js";import B from"./FormSection.31900827.js";import E from"./FormCreateElementEmptyTabs.0456375b.js";import V from"./AlertMessage.0840591f.js";import"./SideBar.511b97bc.js";import"./FiCircle.c9b8b928.js";import"./pluralize.a87e66d1.js";import"./transition.a7dac45d.js";import"./open-closed.0d489d91.js";import"./dialog.d76c2d8b.js";import"./use-owner.dcb13aec.js";import"./use-event-listener.cd17cf37.js";import"./menu.b1c0e94d.js";import"./use-resolve-button-type.fe2d668c.js";import"./BackendHeader.a041d251.js";import"./index.esm.968e8465.js";import"./Footer.2cad62e5.js";import"./BreadCrumbs.ce32cd7c.js";import"./SearchField.46d947e0.js";import"./Pagination.cd5c230b.js";import"./NoElements.fe12762f.js";import"./index.74c4741c.js";import"./SystemMessage.0606d8b1.js";import"./ConfirmationModal.5397c6b8.js";function fe({model:a,roles:h,countries:g}){const{parentModule:y,formTabs:x,currentFormTab:b}=w(t=>t),{classNames:_,trans:r,isAdminOrAbove:s,getLocalized:m}=u.exports.useContext(k),N=T(),{props:v}=D(),{errors:i}=v,{data:n,setData:c,post:C,progress:z}=A({model:a,role_id:"",country_id:"",file:""});u.exports.useMemo(()=>{N(j(M.exports.first(x)))},[]);const d=t=>{c(p=>({...p,[t.target.id]:t.target.value}))};return e(F,{mainModule:a,children:o(S,{children:[o("form",{onSubmit:t=>{t.preventDefault(),new FormData().append("model",a),C("/backend/import/user/store")},method:"post",encType:"multipart/form-data",className:_(b.id!==0?"hidden":"","w-full space-y-3"),children:[o(B,{title:`${r("create")} ${r(y)} ${r(a)}`,message:r("all_information_required"),children:[o("div",{className:"col-span-full",children:[s&&a&&e(V,{title:r("important"),message:r("only_excel_files"),color:"red"}),s&&e("div",{className:"col-span-full py-3 flex justify-center items-center",children:e("a",{className:"p-4 border border-gray-100 bg-gray-600 text-white rounded-md shadow-md",href:$(`backend.${a}.export`,{fileType:"xlsx"}),children:r("download_the_template")})})]}),o("div",{className:"sm:col-span-3",children:[o("label",{htmlFor:"main_image",className:"block  font-medium text-gray-800",children:[r("file")," ",r("excel"),"*"]}),e("div",{className:"mt-1 flex flex-row flex-1 items-center",children:e("input",{onChange:t=>c("file",t.target.files[0]),required:!0,type:"file",name:"file",id:"file",accept:" application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel ",autoComplete:"pdf_file",className:"focus:ring-gray-500 focus:border-gray-500 block w-full sm: border-gray-300 rounded-md"})}),e(l,{message:r("file_instruction")}),e("p",{className:" text-red-500 rtl:text-left ltr:text-right",children:r("file")}),e("p",{className:"mt-2  text-gray-500",children:i.file&&e("div",{className:"text-red-900",children:i.file})})]}),e("div",{className:"sm:col-span-2",children:s&&o(f,{children:[e("label",{htmlFor:"role_id",className:"block  font-medium text-gray-800",children:r("role")}),e("div",{className:"mt-1",children:o("select",{onChange:d,id:"role_id",name:"role_id",defaultValue:n.role_id,autoComplete:"role_id",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full sm: border-gray-300 rounded-md",children:[o("option",{value:"",children:[r("choose")," ",r("role")]}),h.map(t=>e("option",{value:t.id,children:t[m()]},t.id))]})}),e(l,{message:r("user_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.role_id&&e("div",{className:"text-red-900",children:i.role_id})})]})}),e("div",{className:"sm:col-span-2",children:s&&o(f,{children:[e("label",{htmlFor:"country_id",className:"block  font-medium text-gray-800",children:r("country")}),e("div",{className:"mt-1",children:o("select",{onChange:d,id:"country_id",name:"country_id",defaultValue:n.country_id,autoComplete:"country_id",className:"shadow-sm focus:ring-gray-500 focus:border-gray-500 block w-full sm: border-gray-300 rounded-md",children:[o("option",{value:"",children:[r("choose")," ",r("country")]}),g.map(t=>e("option",{value:t.id,children:t[m()]},t.id))]})}),e(l,{message:r("user_instruction")}),e("p",{className:"mt-2  text-gray-500",children:i.country_id&&e("div",{className:"text-red-900",children:i.country_id})})]})})]}),e(q,{type:a})]}),e(E,{})]})})}export{fe as default};
