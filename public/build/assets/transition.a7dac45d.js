import{r as i,a as F,R as W,F as fe}from"./app.8f41755a.js";import{m as j,s as _,u as x,a as $,S as pe,C as G,y as Q,j as S,b as X,o as R,c as he,p as H,$ as Y,d as Z}from"./open-closed.0d489d91.js";function ee(){let[e]=i.exports.useState(j);return i.exports.useEffect(()=>()=>e.dispose(),[e]),e}function te(){let e=i.exports.useRef(!1);return _(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function ve(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function B(e,...t){e&&t.length>0&&e.classList.add(...t)}function V(e,...t){e&&t.length>0&&e.classList.remove(...t)}var q=(e=>(e.Ended="ended",e.Cancelled="cancelled",e))(q||{});function me(e,t){let n=j();if(!e)return n.dispose;let{transitionDuration:l,transitionDelay:f}=getComputedStyle(e),[m,p]=[l,f].map(o=>{let[u=0]=o.split(",").filter(Boolean).map(s=>s.includes("ms")?parseFloat(s):parseFloat(s)*1e3).sort((s,a)=>a-s);return u});if(m+p!==0){let o=[];o.push(n.addEventListener(e,"transitionrun",u=>{u.target===u.currentTarget&&(o.splice(0).forEach(s=>s()),o.push(n.addEventListener(e,"transitionend",s=>{s.target===s.currentTarget&&(t("ended"),o.splice(0).forEach(a=>a()))}),n.addEventListener(e,"transitioncancel",s=>{s.target===s.currentTarget&&(t("cancelled"),o.splice(0).forEach(a=>a()))})))}))}else t("ended");return n.add(()=>t("cancelled")),n.dispose}function xe(e,t,n,l){let f=n?"enter":"leave",m=j(),p=l!==void 0?ve(l):()=>{};f==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let o=x(f,{enter:()=>t.enter,leave:()=>t.leave}),u=x(f,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),s=x(f,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return V(e,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),B(e,...o,...s),m.nextFrame(()=>{V(e,...s),B(e,...u),me(e,a=>(a==="ended"&&(V(e,...o),B(e,...t.entered)),p(a)))}),m.dispose}function be({container:e,direction:t,classes:n,onStart:l,onStop:f}){let m=te(),p=ee(),o=$(t);_(()=>{let u=j();p.add(u.dispose);let s=e.current;if(!!s&&o.current!=="idle"&&!!m.current)return u.dispose(),l.current(o.current),u.add(xe(s,n.current,o.current==="enter",a=>{u.dispose(),x(a,{[q.Ended](){f.current(o.current)},[q.Cancelled]:()=>{}})})),u.dispose},[t])}function w(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let A=i.exports.createContext(null);A.displayName="TransitionContext";var Ee=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Ee||{});function ge(){let e=i.exports.useContext(A);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function Te(){let e=i.exports.useContext(M);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let M=i.exports.createContext(null);M.displayName="NestingContext";function N(e){return"children"in e?N(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function re(e,t){let n=$(e),l=i.exports.useRef([]),f=te(),m=ee(),p=R((c,r=S.Hidden)=>{let h=l.current.findIndex(({el:d})=>d===c);h!==-1&&(x(r,{[S.Unmount](){l.current.splice(h,1)},[S.Hidden](){l.current[h].state="hidden"}}),m.microTask(()=>{var d;!N(l)&&f.current&&((d=n.current)==null||d.call(n))}))}),o=R(c=>{let r=l.current.find(({el:h})=>h===c);return r?r.state!=="visible"&&(r.state="visible"):l.current.push({el:c,state:"visible"}),()=>p(c,S.Unmount)}),u=i.exports.useRef([]),s=i.exports.useRef(Promise.resolve()),a=i.exports.useRef({enter:[],leave:[],idle:[]}),b=R((c,r,h)=>{u.current.splice(0),t&&(t.chains.current[r]=t.chains.current[r].filter(([d])=>d!==c)),t==null||t.chains.current[r].push([c,new Promise(d=>{u.current.push(d)})]),t==null||t.chains.current[r].push([c,new Promise(d=>{Promise.all(a.current[r].map(([v,g])=>g)).then(()=>d())})]),r==="enter"?s.current=s.current.then(()=>t==null?void 0:t.wait.current).then(()=>h(r)):h(r)}),E=R((c,r,h)=>{Promise.all(a.current[r].splice(0).map(([d,v])=>v)).then(()=>{var d;(d=u.current.shift())==null||d()}).then(()=>h(r))});return i.exports.useMemo(()=>({children:l,register:o,unregister:p,onStart:b,onStop:E,wait:s,chains:a}),[o,p,l,b,E,a,s])}function Ce(){}let Se=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function K(e){var t;let n={};for(let l of Se)n[l]=(t=e[l])!=null?t:Ce;return n}function we(e){let t=i.exports.useRef(K(e));return i.exports.useEffect(()=>{t.current=K(e)},[e]),t}let Re="div",ne=pe.RenderStrategy,ie=G(function(e,t){let{beforeEnter:n,afterEnter:l,beforeLeave:f,afterLeave:m,enter:p,enterFrom:o,enterTo:u,entered:s,leave:a,leaveFrom:b,leaveTo:E,...c}=e,r=i.exports.useRef(null),h=Q(r,t),d=c.unmount?S.Unmount:S.Hidden,{show:v,appear:g,initial:se}=ge(),[T,O]=i.exports.useState(v?"visible":"hidden"),J=Te(),{register:P,unregister:L}=J,U=i.exports.useRef(null);i.exports.useEffect(()=>P(r),[P,r]),i.exports.useEffect(()=>{if(d===S.Hidden&&!!r.current){if(v&&T!=="visible"){O("visible");return}return x(T,{hidden:()=>L(r),visible:()=>P(r)})}},[T,r,P,L,v,d]);let le=$({enter:w(p),enterFrom:w(o),enterTo:w(u),entered:w(s),leave:w(a),leaveFrom:w(b),leaveTo:w(E)}),y=we({beforeEnter:n,afterEnter:l,beforeLeave:f,afterLeave:m}),I=X();i.exports.useEffect(()=>{if(I&&T==="visible"&&r.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[r,T,I]);let k=se&&!g,oe=(()=>!I||k||U.current===v?"idle":v?"enter":"leave")(),ae=R(C=>x(C,{enter:()=>y.current.beforeEnter(),leave:()=>y.current.beforeLeave(),idle:()=>{}})),ue=R(C=>x(C,{enter:()=>y.current.afterEnter(),leave:()=>y.current.afterLeave(),idle:()=>{}})),D=re(()=>{O("hidden"),L(r)},J);be({container:r,classes:le,direction:oe,onStart:$(C=>{D.onStart(r,C,ae)}),onStop:$(C=>{D.onStop(r,C,ue),C==="leave"&&!N(D)&&(O("hidden"),L(r))})}),i.exports.useEffect(()=>{!k||(d===S.Hidden?U.current=null:U.current=v)},[v,k,T]);let de=c,ce={ref:h};return F(M.Provider,{value:D,children:F(he,{value:x(T,{visible:H.Open,hidden:H.Closed}),children:Y({ourProps:ce,theirProps:de,defaultTag:Re,features:ne,visible:T==="visible",name:"Transition.Child"})})})}),z=G(function(e,t){let{show:n,appear:l=!1,unmount:f,...m}=e,p=i.exports.useRef(null),o=Q(p,t);X();let u=Z();if(n===void 0&&u!==null&&(n=x(u,{[H.Open]:!0,[H.Closed]:!1})),![!0,!1].includes(n))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[s,a]=i.exports.useState(n?"visible":"hidden"),b=re(()=>{a("hidden")}),[E,c]=i.exports.useState(!0),r=i.exports.useRef([n]);_(()=>{E!==!1&&r.current[r.current.length-1]!==n&&(r.current.push(n),c(!1))},[r,n]);let h=i.exports.useMemo(()=>({show:n,appear:l,initial:E}),[n,l,E]);i.exports.useEffect(()=>{if(n)a("visible");else if(!N(b))a("hidden");else{let v=p.current;if(!v)return;let g=v.getBoundingClientRect();g.x===0&&g.y===0&&g.width===0&&g.height===0&&a("hidden")}},[n,b]);let d={unmount:f};return F(M.Provider,{value:b,children:F(A.Provider,{value:h,children:Y({ourProps:{...d,as:i.exports.Fragment,children:W.createElement(ie,{ref:o,...d,...m})},theirProps:{},defaultTag:i.exports.Fragment,features:ne,visible:s==="visible",name:"Transition"})})})}),$e=G(function(e,t){let n=i.exports.useContext(A)!==null,l=Z()!==null;return F(fe,{children:!n&&l?W.createElement(z,{ref:t,...e}):W.createElement(ie,{ref:t,...e})})}),Le=Object.assign(z,{Child:$e,Root:z});export{Le as W,te as f,ee as p};
